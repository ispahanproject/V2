/* =========================================
   CO-PILOT PAD : v2 FINAL (FIXED)
   ========================================= */
:root {
    --bg: #020617; --panel: #0f172a; --card: #1e293b;
    --primary: #3b82f6; --accent: #f59e0b; --danger: #ef4444; --success: #10b981;
    --text: #f8fafc; --muted: #94a3b8; --border: #334155;
    --amber: #FFB000;
    --cyan: #06b6d4; 
    --green: #22c55e;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; height: 100dvh; width: 100vw; overflow: hidden; }

/* LAYOUT 40:60 */
.app-grid { display: grid; grid-template-columns: 40% 60%; height: 100%; }

/* === LEFT: STATUS (40%) === */
.status-panel {
    background: var(--panel); border-right: 1px solid var(--border);
    padding: 15px; display: flex; flex-direction: column; gap: 10px;
    height: 100%; overflow-y: auto; -webkit-overflow-scrolling: touch;
}
.nav-back { color: var(--muted); font-size: 0.8rem; font-weight: 900; text-decoration: none; }

/* Leg Nav */
.leg-tabs { display: flex; gap: 5px; height: 40px; flex-shrink: 0; }
.leg-tab { flex: 1; background: var(--card); border: 1px solid var(--border); border-radius: 4px; color: var(--muted); font-weight: 900; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; }
.leg-tab.active { background: var(--primary); color: white; }

/* Flight ID */
.flight-id-area { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 15px; text-align: center; flex-shrink: 0; }
.flt-main { font-size: 3.5rem; font-weight: 900; font-family: 'JetBrains Mono'; line-height: 1; margin-bottom: 5px; cursor: pointer; }
.prefix { font-size: 2rem; color: var(--primary); margin-right: 5px; }
.route-main { display: flex; justify-content: center; align-items: center; gap: 15px; cursor: pointer; margin-top: 5px; }

.apt-code {
    font-family: 'JetBrains Mono', monospace; font-weight: 700;
    font-size: 2.4rem; color: var(--amber); text-shadow: 0 0 10px rgba(255, 176, 0, 0.4); letter-spacing: 0.05em;
}
.arrow { font-size: 1.5rem; color: var(--amber); opacity: 0.8; }

.time-mode-switch {
    display: flex; justify-content: center; gap: 0; margin-top: 15px;
    background: #000; border-radius: 6px; padding: 2px; width: fit-content; margin-left: auto; margin-right: auto;
    border: 1px solid var(--border);
}
.tm-btn {
    background: transparent; border: none; color: var(--muted); padding: 5px 15px;
    font-size: 0.7rem; font-weight: 900; cursor: pointer; border-radius: 4px; transition: 0.2s;
}
.tm-btn.active { background: var(--card); color: var(--text); box-shadow: 0 1px 3px rgba(0,0,0,0.5); }
#tm-int.active { color: var(--amber); }

/* Time Grid */
.time-grid-huge { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 5px; flex-shrink: 0; }
.t-cell { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 15px 5px; text-align: center; cursor: pointer; }
.t-cell:active { border-color: var(--primary); background: rgba(59,130,246,0.1); }
.t-label { display: block; font-size: 0.65rem; color: var(--muted); font-weight: 900; margin-bottom: 2px; letter-spacing: 0.05em; }
.t-val { font-size: 2rem; font-weight: 900; font-family: 'JetBrains Mono'; color: white; }
.val-green { color: var(--success) !important; text-shadow: 0 0 15px rgba(16, 185, 129, 0.3); }

/* Metrics */
.metrics-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; flex-shrink: 0; }
.m-box { padding: 15px; border-radius: 8px; text-align: center; border: 1px solid transparent; }
.m-box.warning { background: rgba(239,68,68,0.15); border-color: var(--danger); }
.m-box.info { background: rgba(59,130,246,0.15); border-color: var(--primary); }
.m-label { font-size: 0.8rem; font-weight: 900; opacity: 0.8; display: block; }
.m-val { font-size: 2rem; font-weight: 900; font-family: 'JetBrains Mono'; }

/* Bottom Status */
.bottom-status { display: flex; flex-direction: column; gap: 10px; margin-top: 5px; flex-shrink: 0; }
.status-row { display: grid; gap: 10px; }
.pax-group { grid-template-columns: 1.5fr 1fr; }

.pax-box { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 8px 5px; text-align: center; cursor: pointer; display: flex; flex-direction: column; justify-content: center; }
.pax-box:active { border-color: var(--primary); background: rgba(59,130,246,0.1); }
.pax-box.main .pax-label { font-size: 0.7rem; color: var(--primary); font-weight: 900; }
.pax-box.main .pax-val { font-size: 2.2rem; font-weight: 900; font-family: 'JetBrains Mono'; color: white; line-height: 1.1; }
.pax-box.sub { background: rgba(30, 41, 59, 0.5); }
.pax-box.sub .pax-label { font-size: 0.6rem; color: var(--muted); font-weight: 900; }
.pax-box.sub .pax-val { font-size: 1.6rem; font-weight: 900; font-family: 'JetBrains Mono'; color: var(--muted); line-height: 1.1; }

.sp-btn.full-row { width: 100%; background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: 0 15px; height: 55px; cursor: pointer; display: flex; align-items: center; justify-content: space-between; position: relative; }
.sp-btn:active { background: rgba(59,130,246,0.1); }
.sp-content-left { display: flex; align-items: center; gap: 10px; }
.sp-icon { font-size: 1.4rem; }
.sp-label { font-size: 0.85rem; color: var(--muted); font-weight: 900; letter-spacing: 0.05em; }
.badge { background: var(--accent); font-size: 0.9rem; color: black; padding: 4px 10px; border-radius: 12px; font-weight: 900; position: static; }
.dot { width: 12px; height: 12px; background: var(--success); border-radius: 50%; display: none; position: static; }
.sp-btn.has-data { border-color: var(--accent); background: rgba(245,158,11,0.1); }
.sp-btn.has-data .sp-label { color: var(--accent); }
.sp-btn.has-data .dot { display: block; }

.btn-close { width: 100%; padding: 20px; background: rgba(16,185,129,0.1); color: var(--success); border: 1px solid var(--success); border-radius: 8px; font-weight: 900; font-size: 1.2rem; cursor: pointer; margin-top: 5px; }


/* === RIGHT PANEL (60%) === */
.main-panel { display: flex; flex-direction: column; padding: 15px; gap: 15px; height: 100%; }

/* WORKSPACE 55% */
.workspace-area {
    flex: 5.5;
    background: var(--card); border: 1px solid var(--border);
    border-radius: 12px; display: flex; flex-direction: column; overflow: hidden;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
}

/* TABS ROW (Fixed Layout) */
.tabs-row {
    display: flex; background: #020617; border-bottom: 2px solid var(--border);
    height: 60px; flex-shrink: 0; padding: 0 10px; gap: 4px;
    align-items: flex-end;
}

.sys-tab {
    flex: 1; 
    background: transparent; 
    border: none;
    border-bottom: 1px solid var(--border);
    color: var(--muted); 
    font-family: 'JetBrains Mono', monospace; font-weight: 700;
    font-size: 0.8rem; cursor: pointer; transition: all 0.2s;
    height: 45px; 
    display: flex; align-items: center; justify-content: center; gap: 8px;
    opacity: 0.5;
    position: relative;
    border-radius: 8px 8px 0 0;
}
.sys-tab:hover { opacity: 0.8; background: rgba(255,255,255,0.03); }

/* „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Çø„Éñ„ÅÆÂº∑Ë™ø */
.sys-tab.active {
    background: var(--card); 
    border: 1px solid var(--border);
    border-bottom: 1px solid var(--card); /* ‰∏ãÁ∑ö„ÇíËÉåÊôØËâ≤„ÅßÊ∂à„Åô */
    margin-bottom: -2px; /* ‰∏ã„Å´„Åö„Çâ„Åó„Å¶„É©„Ç§„É≥„ÇíÈö†„Åô */
    color: white;
    height: 55px;
    opacity: 1;
    box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
    z-index: 10;
}
.sys-tab.active::after {
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 3px;
    background: var(--primary); box-shadow: 0 0 10px var(--primary);
}
.sys-tab.active .tab-icon { color: var(--primary); text-shadow: 0 0 8px rgba(59, 130, 246, 0.6); }

/* TAB CONTENT */
.tab-content { flex: 1; display: none; overflow-y: auto; padding: 15px; position: relative; }
.tab-content.active { display: block; }

/* CHECKLIST (Grid Layout) */
.checklist-container { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 12px; 
    height: auto;
    align-content: start;
    padding-bottom: 60px; /* „É°„ÉÉ„Çª„Éº„Ç∏Áî®„ÅÆ‰ΩôÁôΩ */
}

.chk-item {
    display: flex; align-items: center;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), transparent);
    border: 1px solid var(--border); border-left: 4px solid var(--muted);
    padding: 12px 15px; border-radius: 6px; cursor: pointer; transition: 0.1s;
}
.chk-item:active { transform: scale(0.98); background: rgba(255,255,255,0.05); }

.chk-item.checked {
    border-color: var(--success); border-left-color: var(--success);
    background: rgba(16, 185, 129, 0.15);
}
.chk-circle {
    width: 22px; height: 22px; border: 2px solid var(--muted);
    border-radius: 50%; margin-right: 12px; flex-shrink: 0;
}
.chk-item.checked .chk-circle { background: var(--success); border-color: var(--success); }
.chk-text { 
    font-size: 1.1rem; font-weight: 700; color: #e2e8f0; letter-spacing: 0.05em; 
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.chk-item.checked .chk-text { text-decoration: line-through; opacity: 0.6; color: var(--success); }

/* BLOCK OUT READY MSG */
#checklist-complete-msg {
    position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
    text-align: center; font-size: 1.5rem; color: var(--success);
    font-weight: 900; display: none; text-shadow: 0 0 10px rgba(16,185,129,0.5);
    background: rgba(2, 6, 23, 0.95); border: 2px solid var(--success);
    padding: 10px 40px; border-radius: 50px; z-index: 20; width: 80%;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

/* TURB UI (Instrument Style: 4-Column Layout) */
.turb-layout { display: flex; flex-direction: column; height: 100%; gap: 10px; }

.turb-input-zone { 
    display: flex; gap: 8px; height: 210px; flex-shrink: 0; 
}

.turb-group { display: flex; flex-direction: column; }

/* 4Âàó„ÅÆÂπÖË™øÊï¥ */
.group-fl    { flex: 1.2; } /* FL„ÅØÂ∞ë„ÅóÂ∫É„ÇÅ„Å´(2ÂàóÂàÜ) */
.group-cause { flex: 1.5; } /* Cause„ÅØ„Éú„Çø„É≥„ÅåÂ§ö„ÅÑ„ÅÆ„ÅßÂ∫É„Åè */
.group-freq  { flex: 0.7; } /* Duration„ÅØÁã≠„Åè */
.group-int   { flex: 0.7; } /* Intensity„ÇÇÁã≠„Åè */

.tg-label {
    font-size: 0.65rem; color: var(--primary); text-align: center;
    font-weight: 900; margin-bottom: 5px; font-family: 'JetBrains Mono';
    white-space: nowrap;
}

/* FL Dual List (FROM - TO) */
.fl-dual-container {
    display: flex; gap: 2px; height: 100%;
    background: #000; border: 1px solid var(--border); border-radius: 4px;
    padding: 2px;
}
.fl-scroll-box {
    flex: 1; overflow-y: auto; 
    /* ÂÄãÂà•„ÅÆ„Éú„Éº„ÉÄ„Éº„ÅØÊ∂à„Åó„Å¶„Ç≥„É≥„ÉÜ„Éä„Å´‰ªª„Åõ„Çã */
    border: none; 
}
/* „É™„Çπ„ÉàÈñì„ÅÆÂå∫Âàá„ÇäÁ∑ö */
.fl-scroll-box:first-child { border-right: 1px solid #222; }

.fl-opt {
    padding: 10px 2px; text-align: center; font-weight: 700;
    font-family: 'JetBrains Mono'; border-bottom: 1px solid #1a1a1a; color: #555;
    font-size: 0.9rem;
}
.fl-opt.selected { background: var(--primary); color: white; }

/* Cause Grid */
.cause-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; flex: 1; }
.c-btn {
    background: #151d2e; border: 1px solid var(--border); color: var(--muted);
    border-radius: 4px; font-weight: 900; cursor: pointer; font-size: 0.8rem;
}
.c-btn:active { background: #333; }
.c-btn.active {
    background: rgba(255, 176, 0, 0.2); border-color: var(--amber);
    color: var(--amber); box-shadow: 0 0 8px rgba(255,176,0,0.3);
}

/* Vertical Stacks (Duration & Intensity) */
.int-stack { display: flex; flex-direction: column; gap: 4px; flex: 1; }

.i-btn {
    flex: 1; border: 1px solid transparent; font-weight: 900;
    opacity: 0.5; cursor: pointer; border-radius: 4px; font-family: 'JetBrains Mono';
    font-size: 0.85rem; background: #1e293b; color: var(--muted);
    transition: 0.1s;
}
.i-btn:active { opacity: 1; transform: scale(0.95); }

/* Duration Buttons Specifics */
.i-btn.freq.active {
    background: var(--primary); color: white; opacity: 1;
    border-color: var(--primary);
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.4);
}

/* Intensity Colors */
.t1 { background: rgba(16, 185, 129, 0.2); color: #10b981; }
.t2 { background: rgba(132, 204, 22, 0.2); color: #84cc16; }
.t3 { background: rgba(255, 176, 0, 0.2); color: var(--amber); }
.t4 { background: rgba(249, 115, 22, 0.2); color: #f97316; }
.t6 { background: rgba(239, 68, 68, 0.2); color: #ef4444; }

/* List Header & Rows */
.turb-log-header {
    display: flex; padding: 5px 10px; margin-top: 5px;
    background: #0f172a; border-bottom: 1px solid var(--border);
    font-size: 0.65rem; color: var(--muted); font-weight: 900;
}
.turb-log-list {
    flex: 1; background: #000; border: 1px solid var(--border);
    border-radius: 4px; overflow-y: auto;
}
.log-row {
    display: flex; padding: 10px;
    border-bottom: 1px solid #222; font-size: 1rem;
    font-family: 'JetBrains Mono', monospace; color: var(--text);
    align-items: center;
}

/* WIND TAB UI */
.wx-display-container { display: flex; flex-direction: column; gap: 10px; height: 100%; }
.wx-ctrl-row { display: flex; justify-content: space-between; align-items: center; background: #0f172a; padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); }
.wx-station-display { display: flex; flex-direction: column; }
.wx-label-mini { font-size: 0.55rem; color: var(--muted); font-weight: 900; }
.wx-station-code { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.2rem; color: var(--accent); }
.wx-tabs-mini { display: flex; background: #1e293b; border-radius: 6px; padding: 2px; }
.wx-mini-btn { background: transparent; border: none; color: var(--muted); font-weight: 900; padding: 6px 12px; font-size: 0.75rem; cursor: pointer; border-radius: 4px; }
.wx-mini-btn.active { background: var(--primary); color: white; }
.wx-refresh-btn { background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: var(--text); padding: 8px 12px; border-radius: 6px; font-weight: 900; cursor: pointer; }
.wx-data-box { background: #020617; border: 1px solid var(--border); border-left: 4px solid var(--muted); padding: 12px; border-radius: 6px; font-family: 'JetBrains Mono'; flex: 1; }
.wx-data-box.vmc { border-left-color: var(--success); background: rgba(16,185,129,0.05); }
.wx-data-box.imc { border-left-color: var(--danger); background: rgba(239,68,68,0.05); }
.wx-box-label { font-size: 0.7rem; color: var(--primary); font-weight: 900; margin-bottom: 5px; }
.wx-text-body { font-size: 0.9rem; line-height: 1.4; color: #e2e8f0; }

/* PERF TAB UI */
.perf-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
.perf-card { background: #0f172a; border: 1px solid var(--border); padding: 10px; border-radius: 8px; display: flex; flex-direction: column; }
.perf-label { font-size: 0.65rem; color: var(--muted); font-weight: 900; margin-bottom: 5px; }
.perf-val-box { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.4rem; color: white; text-align: right; }
.perf-val-box.large { font-size: 2rem; color: var(--accent); }
.perf-note { background: rgba(245,158,11,0.1); border: 1px dashed var(--accent); color: var(--accent); padding: 10px; border-radius: 6px; font-weight: 900; text-align: center; }

/* LAUNCHER 45% */
.launcher-area { flex: 4.5; display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
.launch-btn { background: rgba(30,41,59,0.5); border: 1px solid var(--border); border-radius: 16px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: 0.1s; }
.launch-btn:active { background: rgba(59,130,246,0.1); border-color: var(--primary); }
/* LAUNCHER ICON STYLE UPDATE */
.l-icon {
    width: 50px;       /* „Çµ„Ç§„Ç∫ÊåáÂÆö */
    height: 50px;
    margin-bottom: 8px;
    color: var(--muted); /* „Éá„Éï„Ç©„É´„Éà„ÅÆËâ≤ */
    opacity: 0.8;
    transition: 0.2s;
}

/* SVGËá™‰Ωì„Çí„Ç≥„É≥„ÉÜ„Éä„Å´Âêà„Çè„Åõ„Çã */
.l-icon svg {
    width: 100%;
    height: 100%;
}

/* „Éú„Çø„É≥„ÇíÊäº„Åó„Åü„Å®„Åç„ÇÑ„Éõ„Éê„ÉºÊôÇ„Å´Ëâ≤„Çí„Å§„Åë„Çã */
.launch-btn:active .l-icon,
.launch-btn:hover .l-icon {
    color: var(--primary);
    opacity: 1;
    transform: scale(1.1);
}
.l-label { font-size: 1.2rem; font-weight: 900; color: var(--muted); }

/* MODALS (Simplified) */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
.modal-overlay.active { display: flex; }
.modal-card { background: var(--card); padding: 20px; border-radius: 16px; border: 1px solid var(--border); width: 450px; max-height: 90vh; display: flex; flex-direction: column; gap: 15px; }
.modal-card.wide { width: 800px; }
.m-head { font-size: 1.2rem; font-weight: 900; color: var(--primary); border-bottom: 1px solid var(--border); padding-bottom: 10px; }
.m-close { padding: 15px; background: var(--border); border: none; color: white; font-weight: 900; border-radius: 8px; width: 100%; font-size: 1rem; }

/* NUMPAD */
.numpad-card { background: var(--panel); padding: 20px; border-radius: 20px; width: 340px; border: 2px solid var(--primary); box-shadow: 0 20px 50px black; }
.np-header { background: #000; padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
#np-label { color: var(--primary); font-weight: 900; font-size: 0.8rem; }
#np-val { color: white; font-size: 2rem; font-weight: 900; font-family: 'JetBrains Mono'; }
.np-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px; }
.np-grid button { padding: 25px 0; font-size: 1.8rem; font-weight: 900; background: var(--card); border: none; color: white; border-radius: 8px; }
.np-grid button:active { background: var(--primary); }
.zero { grid-column: span 2; } .del { color: var(--danger) !important; }
.np-footer { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.np-ok { padding: 15px; background: var(--primary); border: none; font-weight: 900; border-radius: 8px; font-size: 1.2rem; }
.np-cancel { background: transparent; border: 1px solid var(--border); color: var(--muted); border-radius: 8px; font-weight: 900; 

}

/* Log Badge Style */
.log-badge {
    padding: 2px 8px;
    border-radius: 4px;
    font-weight: 900;
    font-size: 0.8rem;
    text-align: center;
    min-width: 40px;
    display: inline-block;
}

/* Êó¢Â≠ò„ÅÆ„Ç´„É©„ÉºÂÆöÁæ© (.t1, .t6 „Å™„Å©) „ÅåËá™ÂãïÁöÑ„Å´ÈÅ©Áî®„Åï„Çå„Åæ„Åô */
/* „Éê„ÉÉ„Ç∏Áî®„Å´Â∞ë„ÅóÊøÉ„Åï„ÇíË™øÊï¥„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ‰ª•‰∏ã„ÇíËøΩÂä† */
.log-badge.t1 { border: 1px solid #10b981; }
.log-badge.t2 { border: 1px solid #84cc16; }
.log-badge.t3 { border: 1px solid var(--amber); }
.log-badge.t4 { border: 1px solid #f97316; }
.log-badge.t6 { border: 1px solid #ef4444; background: #ef4444; color: white; 

}

/* REF TAB UI */
.ref-grid-tab {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

.ref-card-btn {
    background: #0f172a;
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: 0.1s;
    height: 120px;
}

.ref-card-btn:active {
    background: rgba(59, 130, 246, 0.1);
    border-color: var(--primary);
    transform: scale(0.98);
}

.ref-icon-large {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

.ref-title {
    font-weight: 900;
    font-size: 0.85rem;
    color: var(--text);
    text-align: center;
}

/* === CROSSOVER CALC STYLES === */
.co-input-area { padding: 10px 20px; display: flex; flex-direction: column; gap: 15px; }

.co-input-group { display: flex; justify-content: space-between; align-items: center; }
.co-label { font-size: 0.75rem; font-weight: 900; color: var(--muted); }

.co-stepper { display: flex; align-items: center; gap: 2px; background: rgba(0,0,0,0.2); padding: 2px; border-radius: 6px; border: 1px solid var(--border); }
.co-step-btn { width: 40px; height: 40px; background: #334155; border: none; color: white; border-radius: 4px; font-weight: 900; cursor: pointer; font-size: 1.2rem; }
.co-step-btn:active { background: var(--primary); }
.co-step-val { width: 70px; text-align: center; background: transparent; border: none; color: white; font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.2rem; }

/* Result Display */
.co-result-box { background: #020617; padding: 20px; text-align: center; border-top: 1px solid var(--border); border-radius: 0 0 16px 16px; margin: 0 -20px -20px -20px; /* „É¢„Éº„ÉÄ„É´„ÅÆpadding„ÇíÁõ∏ÊÆ∫ */ margin-bottom: 10px; }
.co-res-display { display: flex; justify-content: center; align-items: baseline; gap: 8px; }
.co-res-prefix { font-size: 1.5rem; color: var(--muted); font-weight: 900; font-family: 'JetBrains Mono'; }
.co-res-val { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 3.5rem; color: var(--green); text-shadow: 0 0 20px rgba(34, 197, 94, 0.4); }

/* Visual Scale */
.co-scale-container { display: flex; height: 80px; position: relative; background: linear-gradient(180deg, rgba(6,182,212,0.1) 0%, rgba(6,182,212,0.0) 45%, rgba(34,197,94,0.0) 55%, rgba(34,197,94,0.1) 100%); border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border); }
.co-scale-line { position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: var(--border); border-top: 1px dashed rgba(255,255,255,0.3); }
.co-scale-label { position: absolute; width: 100%; text-align: center; font-size: 0.6rem; font-weight: 900; color: var(--muted); }
.mach-zone { top: 10px; color: var(--cyan); }
.ias-zone { bottom: 10px; color: var(--green); }

.crossover-marker { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: var(--card); padding: 5px 15px; border: 2px solid var(--green); border-radius: 20px; color: var(--green); font-weight: 900; font-size: 0.9rem; box-shadow: 0 0 15px rgba(0,0,0,0.5); z-index: 2; font-family: 'JetBrains Mono'; }

/* Launcher Dynamic Value */
.l-val-dynamic {
    font-size: 1.4rem;
    font-weight: 900;
    font-family: 'JetBrains Mono';
    color: var(--green); /* Ë®àÁÆóÁµêÊûú„ÅØÁ∑ëËâ≤„ÅßÂº∑Ë™ø */
    text-shadow: 0 0 10px rgba(34, 197, 94, 0.4);
    margin-top: -5px;
}

/* WX„Çø„Éñ„ÅÆÂÖ•Âäõ„É¢„Éº„ÉâÁî®„Çπ„Çø„Ç§„É´ */
.wx-station-code.input-active {
    border: 1px solid var(--primary);    /* Á∑ëËâ≤„ÅÆÊû†Á∑ö */
    background-color: rgba(34, 197, 94, 0.1); /* ËñÑ„ÅÑÁ∑ë„ÅÆËÉåÊôØ */
    padding: 2px 8px;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 0 5px rgba(34, 197, 94, 0.3);
}

/* ÈÄöÂ∏∏ÊôÇ„ÅØÊû†Á∑ö„ÇíÊ∂à„Åô„Åü„ÇÅ„ÅÆ„É™„Çª„ÉÉ„Éà */
.wx-station-code {
    border: 1px solid transparent;
    padding: 2px 8px;
    transition: all 0.2s ease;
}

/* =================================================================
   üå™Ô∏è WIND CALCULATOR STYLES (RESPONSIVE FIX)
   ================================================================= */

/* „É°„Ç§„É≥„Ç´„Éº„Éâ */
#wind-iso-card {
    display: flex !important;
    flex-direction: row !important; /* Âü∫Êú¨„ÅØÊ®™‰∏¶„Å≥ */
    width: 100% !important;         /* 760pxÂõ∫ÂÆö„ÇíÂªÉÊ≠¢ */
    max-width: 800px !important;    /* ÊúÄÂ§ßÂπÖ„ÇíË®≠ÂÆö */
    height: 90vh !important;
    max-height: 700px !important;
    background: #1e293b !important;
    border: 1px solid #334155 !important;
    border-radius: 20px !important;
    overflow: hidden !important;
    margin: auto !important;
    position: relative !important;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7) !important;
    padding: 0 !important;
}

/* Â∑¶„Éë„Éç„É´ÔºàÊìç‰ΩúÁ≥ªÔºâ */
#wind-iso-left {
    width: 380px !important;      /* PC„Åß„ÅØÂπÖÂõ∫ÂÆö */
    flex-shrink: 0 !important;
    padding: 16px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 10px !important;
    border-right: 1px solid #334155 !important;
    background: #1e293b !important;
    overflow-y: auto !important;
}

/* Âè≥„Éë„Éç„É´Ôºà„Ç∞„É©„ÉïÔºâ */
#wind-iso-right {
    flex-grow: 1 !important;
    padding: 0 !important;
    background: #0b1120 !important;
    display: flex !important;
    flex-direction: column !important;
    overflow: hidden !important;
    border-left: 1px solid #334155 !important;
}

/* ‚ñº‚ñº‚ñº „É¢„Éê„Ç§„É´Áî®„É¨„Çπ„Éù„É≥„Ç∑„ÉñË®≠ÂÆöÔºà„Åì„Åì„ÇíËøΩÂä†Ôºâ ‚ñº‚ñº‚ñº */
@media (max-width: 768px) {
    #wind-iso-card {
        flex-direction: column !important; /* Á∏¶‰∏¶„Å≥„Å´Â§âÊõ¥ */
        height: 95vh !important;
    }
    
    #wind-iso-left {
        width: 100% !important; /* ÂπÖ„ÅÑ„Å£„Å±„ÅÑ„Å´ */
        height: 60% !important; /* ‰∏äÂçäÂàÜ„ÇíÊìç‰Ωú„Ç®„É™„Ç¢„Å´ */
        border-right: none !important;
        border-bottom: 1px solid #334155 !important;
    }
    
    #wind-iso-right {
        height: 40% !important; /* ‰∏ãÂçäÂàÜ„Çí„Ç∞„É©„Éï„Å´ */
    }

    /* „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„ÉºÔºàÈ£õË°åÊ©ü„Ç¢„Ç§„Ç≥„É≥Ôºâ„ÇíÂ∞ë„ÅóÂ∞è„Åï„Åè */
    #wind-iso-visual {
        width: 80px !important;
        height: 80px !important;
        margin-bottom: 5px !important;
    }
}

/* ÂêÑÁ®Æ„Éë„Éº„ÉÑ„ÅÆ„Éá„Ç∂„Ç§„É≥ */
.wind-iso-section {
    background: rgba(255,255,255,0.02) !important;
    border-radius: 12px;
    border: 1px solid #334155;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.wind-iso-header {
    display: flex; align-items: center; gap: 8px;
    font-size: 0.65rem; font-weight: 900; color: #94a3b8; letter-spacing: 0.05em;
}

.wind-iso-row {
    display: flex !important; gap: 10px !important; flex-direction: row !important;
}

.wind-iso-label {
    font-size: 0.6rem; color: #94a3b8; font-weight: 700; margin-left: 4px; margin-bottom: 4px; display: block;
}

/* ÂÖ•Âäõ„Éï„Ç©„Éº„É†Ôºà„Çπ„Çø„Ç§„É´Âº∑Âà∂Ôºâ */
.wind-iso-input {
    background: #131c33 !important;
    border: 1px solid #334155 !important;
    color: white !important;
    border-radius: 8px !important;
    padding: 0 !important;
    font-weight: 700 !important;
    font-size: 1.1rem !important;
    width: 100% !important;
    height: 40px !important;
    text-align: center !important;
    font-family: 'Inter', sans-serif !important;
    box-shadow: none !important;
    outline: none !important;
    appearance: none !important;
}
.wind-iso-input:focus { border-color: #3b82f6 !important; background: #1a243d !important; }

/* „Çπ„ÉÜ„ÉÉ„Éë„ÉºÔºà+ - „Éú„Çø„É≥Ôºâ */
.wind-iso-stepper { display: flex !important; gap: 4px !important; height: 40px !important; }
.wind-iso-btn {
    background: #27354f !important;
    border: 1px solid #334155 !important;
    color: white !important;
    width: 36px !important;
    border-radius: 8px !important;
    font-weight: 900 !important;
    font-size: 0.8rem !important;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
}

/* Âçò‰Ωç„Çπ„Ç§„ÉÉ„ÉÅ */
#wind-iso-switch { display: flex; background: #1e293b; border: 1px solid #334155; border-radius: 4px; overflow: hidden; height: 18px; }
#wind-iso-switch div { padding: 0 6px; font-size: 0.55rem; font-weight: 900; color: #64748b; cursor: pointer; display: flex; align-items: center; }
#wind-iso-switch div.active { background: #3b82f6; color: white; }

/* „Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº */
#wind-iso-visual {
    display: flex; justify-content: center; align-items: center;
    background: #0b1120 !important;
    border-radius: 50%;
    width: 120px !important; height: 120px !important;
    margin: 0 auto 5px auto !important;
    border: 2px solid #334155;
    flex-shrink: 0;
}

/* ÁµêÊûú„Ç´„Éº„Éâ */
.wind-iso-grid { display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 10px !important; margin-top: 5px; }
.wind-iso-res-card {
    background: #131c33 !important;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 10px;
    display: flex; flex-direction: column; align-items: center;
}
.wind-iso-val { font-size: 1.4rem; font-weight: 900; color: white; line-height: 1; }

/* „Çπ„ÉÜ„Éº„Çø„ÇπËâ≤ */
.status-safe { background: rgba(16, 185, 129, 0.15) !important; color: #10b981 !important; border: 1px solid #10b981 !important; }
.status-danger { background: rgba(239, 68, 68, 0.2) !important; color: #ef4444 !important; border: 1px solid #ef4444 !important; }
.status-neutral { background: #131c33 !important; color: #94a3b8 !important; border: 1px solid #334155 !important; }

/* „ÉÅ„É£„Éº„ÉàË°å */
.c-row { display: grid !important; grid-template-columns: 0.7fr 1fr 1fr 1fr !important; padding: 6px; border-bottom: 1px solid rgba(255,255,255,0.03); font-size: 0.75rem; font-weight: 700; align-items: center; text-align: center; }
.current-row { background: rgba(59, 130, 246, 0.4) !important; border-left: 3px solid white; }
.range-highlight { background: rgba(59, 130, 246, 0.15) !important; border-left: 3px solid #3b82f6; }
.col-safe { color: #10b981; } .col-warn { color: #f59e0b; } .col-danger { color: #ef4444; }
.limit-over-text { color: #ef4444 !important; font-weight: 900; font-size: 1.1em; }

/* WIND CALC „É¢„Éº„ÉâÂàá„ÇäÊõø„Åà„Éú„Çø„É≥ */
.wind-mode-btn {
    flex: 1;
    background: #131c33;
    border: 1px solid #334155;
    color: #94a3b8;
    padding: 8px 0;
    border-radius: 8px;
    font-weight: 900;
    font-size: 0.8rem;
    cursor: pointer;
    transition: all 0.2s;
}

.wind-mode-btn.active {
    background: #3b82f6; /* ÈùíËâ≤ */
    color: white;
    border-color: #3b82f6;
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
}

.wind-mode-btn:hover {
    filter: brightness(1.2);
}

/* =================================================================
   üõ¨ LDG PERF ISOLATED STYLES
   ================================================================= */

#perf-iso-wrapper {
    background: #1e293b !important;
    width: 95% !important;
    max-width: 760px !important;
    border-radius: 20px !important;
    border: 1px solid #475569 !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
    display: flex !important;
    overflow: hidden !important;
    max-height: 95vh !important;
    flex-direction: column !important;
    margin: auto !important;
    position: relative !important;
    padding: 0 !important;
}

#perf-iso-main-cols { display: flex !important; height: 100% !important; overflow: hidden !important; flex-grow: 1; }
#perf-iso-col-input { flex: 1.4 !important; padding: 20px !important; border-right: 1px solid #475569 !important; display: flex !important; flex-direction: column !important; gap: 10px !important; overflow-y: auto !important; background: #1e293b !important; }
#perf-iso-col-ref { flex: 0.6 !important; background: #182235 !important; padding: 20px !important; display: flex !important; flex-direction: column !important; gap: 5px !important; }

/* „É©„Éô„É´È°û */
.perf-iso-section-label { font-size: 0.7rem; color: #3b82f6; font-weight: 900; display: block; letter-spacing: 0.05em; margin-bottom: -5px; }
.perf-iso-sub-label { font-size: 0.6rem; color: #94a3b8; font-weight: 700; display: block; margin-bottom: 5px; text-transform: uppercase; }

/* „Éú„Çø„É≥È°û */
.perf-iso-btn-group { display: flex !important; gap: 4px !important; width: 100% !important; flex-wrap: wrap !important; }
.perf-iso-select-btn {
    flex: 1 !important; min-width: 40px !important; padding: 10px 0 !important;
    border: 1px solid #475569 !important; background: rgba(255,255,255,0.03) !important;
    color: #94a3b8 !important; border-radius: 6px !important;
    font-weight: 900 !important; cursor: pointer !important; font-size: 0.9rem !important;
}
.perf-iso-select-btn.active { background: #06b6d4 !important; border-color: #06b6d4 !important; color: #0f172a !important; }

/* „Ç≥„É≥„Éá„Ç£„Ç∑„Éß„É≥„Ç≥„Éº„Éâ„Éú„Çø„É≥„ÅÆÁâπÊÆäËâ≤ */
.perf-iso-cc-btn.active[data-val="6"], .perf-iso-cc-btn.active[data-val="5"], .perf-iso-cc-btn.active[data-val="4"] { background: #22c55e !important; border-color: #22c55e !important; color: #0f172a !important; }
.perf-iso-cc-btn.active[data-val="3"] { background: #f97316 !important; border-color: #f97316 !important; color: white !important; }
.perf-iso-cc-btn.active[data-val="2"], .perf-iso-cc-btn.active[data-val="1"] { background: #ef4444 !important; border-color: #ef4444 !important; color: white !important; }

/* „Çπ„ÉÜ„ÉÉ„Éë„Éº */
.perf-iso-stepper-group {
    display: flex !important; align-items: center !important; gap: 2px !important;
    background: rgba(0,0,0,0.2) !important; padding: 3px !important;
    border-radius: 8px !important; border: 1px solid #475569 !important; height: 44px !important;
}
.perf-iso-step-btn {
    width: 36px !important; height: 100% !important; border-radius: 5px !important;
    border: none !important; background: #334155 !important; color: white !important;
    font-size: 1.1rem !important; font-weight: 900 !important; cursor: pointer !important;
    display: flex !important; align-items: center !important; justify-content: center !important;
}
.perf-iso-step-input {
    flex: 1 !important; background: transparent !important; border: none !important;
    text-align: center !important; font-family: 'JetBrains Mono', monospace !important;
    font-weight: 900 !important; font-size: 1rem !important; outline: none !important;
    width: 100% !important;
}

/* Âè≥„Ç´„É©„É† (Reference) */
.perf-iso-ref-title { font-size: 0.7rem; color: #94a3b8; font-weight: 900; margin-bottom: 10px; text-align: center; border-bottom: 1px solid #475569; padding-bottom: 5px; }
.perf-iso-ref-row {
    display: flex !important; justify-content: space-between !important;
    padding: 10px 12px !important; border-radius: 8px !important; margin-bottom: 2px !important;
    border: 1px solid transparent !important; opacity: 0.5 !important;
}
.perf-iso-ref-row.active { opacity: 1 !important; background: rgba(255,255,255,0.05) !important; }
.perf-iso-ref-cc, .perf-iso-ref-val { font-weight: 900; font-family: 'JetBrains Mono'; }

/* Ref Row Colors */
.perf-iso-ref-row[data-cc="6"] .perf-iso-ref-cc, .perf-iso-ref-row[data-cc="5"] .perf-iso-ref-cc, .perf-iso-ref-row[data-cc="4"] .perf-iso-ref-cc { color: #22c55e; }
.perf-iso-ref-row.active[data-cc="6"], .perf-iso-ref-row.active[data-cc="5"], .perf-iso-ref-row.active[data-cc="4"] { border-color: #22c55e !important; }
.perf-iso-ref-row[data-cc="3"] .perf-iso-ref-cc { color: #f97316; } .perf-iso-ref-row.active[data-cc="3"] { border-color: #f97316 !important; }
.perf-iso-ref-row[data-cc="2"] .perf-iso-ref-cc, .perf-iso-ref-row[data-cc="1"] .perf-iso-ref-cc { color: #ef4444; } .perf-iso-ref-row.active[data-cc="2"], .perf-iso-ref-row.active[data-cc="1"] { border-color: #ef4444 !important; }

/* X-WIND Display */
.perf-iso-xw-label { font-size: 0.65rem; color: #94a3b8; display: block; }
.perf-iso-xw-val { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.2rem; color: #f8fafc; }
.perf-iso-xw-val.xw-warn { color: #ef4444 !important; animation: pulse 1s infinite; }

/* Result Box */
.perf-iso-result-container {
    background: rgba(0,0,0,0.3) !important; border-radius: 12px !important;
    padding: 12px !important; margin-top: auto !important; border: 1px solid #475569 !important;
    display: grid !important; grid-template-columns: 1fr 1fr !important; gap: 10px !important;
}
.perf-iso-res-box { text-align: center; }
.perf-iso-res-label { font-size: 0.65rem; color: #94a3b8; display: block; margin-bottom: 2px; }
.perf-iso-res-value { font-family: 'JetBrains Mono', monospace; font-size: 1.6rem; font-weight: 900; color: #22c55e; }
.perf-iso-res-sub { font-size: 0.75rem; color: #94a3b8; font-weight: 700; margin-left: 4px; }

/* Bottom Bar Chart */
.perf-iso-margin-container {
    width: 100% !important; background: #020617 !important;
    border-top: 1px solid #475569 !important; padding: 15px 20px !important;
    box-sizing: border-box !important;
}
.perf-iso-bar-label-row { display: flex !important; justify-content: space-between !important; margin-bottom: 10px !important; border-bottom:1px solid #1e293b !important; padding-bottom:5px !important; }
.perf-iso-bar-title { font-size: 0.7rem; font-weight: 900; color: #94a3b8; }

.perf-iso-scenario-row { margin-bottom: 15px !important; position: relative !important; }
.perf-iso-scenario-header { display: flex !important; justify-content: space-between !important; align-items: flex-end !important; margin-bottom: 6px !important; font-family: 'JetBrains Mono' !important; font-size: 0.7rem !important; font-weight: 700 !important; }
.perf-iso-sc-title { font-family: 'Inter'; font-weight: 900; font-size: 0.75rem; width: 120px; }
.perf-iso-sc-val-box { display: flex !important; gap: 10px !important; }
.perf-iso-val-label { color: #94a3b8; font-size: 0.6rem; margin-right: 3px; }

.perf-iso-rwy-strip {
    width: 100% !important; height: 24px !important; background: #1e293b !important;
    border-radius: 3px !important; position: relative !important; overflow: visible !important;
    border: 1px solid #475569 !important;
    background-image: linear-gradient(90deg, transparent 50%, rgba(255,255,255,0.05) 50%) !important;
    background-size: 20px 100% !important;
}
.perf-iso-threshold { position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background: white; z-index: 2; }
.perf-iso-stop-bar { position: absolute; top: 4px; bottom: 4px; z-index: 1; border-radius: 2px; transition: 0.5s; opacity: 0.9; }

/* Markers */
.perf-iso-marker-td-container {
    position: absolute; top: -18px; transform: translateX(-50%);
    display: flex; flex-direction: column; align-items: center; z-index: 10;
}
.perf-iso-marker-icon { font-size: 10px; color: white; transform: rotate(90deg); margin-bottom: -2px; }
.perf-iso-marker-text { font-size: 9px; font-weight: 900; color: white; background: #0f172a; padding: 0 3px; border-radius: 2px; border: 1px solid #475569; }
.perf-iso-marker-line { width: 1px; height: 42px; background: white; margin-top: 0px; opacity: 0.5; }

/* Ruler */
.perf-iso-ruler-container { position: relative !important; width: 100% !important; height: 20px !important; margin-top: 5px !important; border-top: 1px solid #475569 !important; }
.perf-iso-tick { position: absolute; top: 0; width: 1px; background: #64748b; }
.perf-iso-tick.major { height: 6px; background: #94a3b8; }
.perf-iso-tick-label { position: absolute; top: 8px; transform: translateX(-50%); font-size: 0.6rem; color: #64748b; font-family: 'JetBrains Mono'; font-weight: 700; }


/* =================================================================
   ‚úàÔ∏è TFC (TRAFFIC) ISOLATED STYLES
   ================================================================= */

/* --- Â§ñÊû†Ôºà„É¢„Éº„ÉÄ„É´Êú¨‰ΩìÔºâ --- */
#tfc-iso-wrapper {
    background: #1e293b !important;
    width: 600px !important;
    max-width: 95vw !important;
    height: 600px !important;
    max-height: 80vh !important;
    border-radius: 20px !important;
    border: 1px solid #475569 !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
    display: flex !important;
    flex-direction: column !important;
    margin: auto !important;
    position: relative !important;
    padding: 0 !important;
    overflow: hidden !important;
}

#tfc-iso-header {
    background: #0f172a !important;
    padding: 20px !important;
    border-bottom: 1px solid #334155 !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
}

#tfc-iso-title { font-size: 1.2rem; font-weight: 900; color: #f59e0b; letter-spacing: 0.05em; }
#tfc-iso-subtitle { font-size: 0.8rem; font-weight: 700; color: #94a3b8; margin-top: 4px; }

#tfc-iso-list-area {
    flex-grow: 1 !important;
    overflow-y: auto !important;
    background: #1e293b !important;
    padding: 10px !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 8px !important;
}

#tfc-iso-footer {
    padding: 15px !important;
    background: #0f172a !important;
    border-top: 1px solid #334155 !important;
    text-align: right !important;
}

.tfc-iso-btn {
    background: #3b82f6 !important;
    color: white !important;
    border: none !important;
    padding: 10px 20px !important;
    border-radius: 8px !important;
    font-weight: 900 !important;
    cursor: pointer !important;
}

/* --- „É™„Çπ„Éà„ÅÆ‰∏≠Ë∫´ÔºàË°å„ÅÆ„Éá„Ç∂„Ç§„É≥Ôºâ --- */
.tfc-row {
    display: grid;
    grid-template-columns: 50px 70px 1fr 1fr;
    align-items: center;
    gap: 10px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid #475569;
    padding: 12px 15px;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85rem;
    transition: all 0.2s;
}

/* Âà∞ÁùÄÊ©ü */
.tfc-row.arr .tfc-icon { color: #3b82f6; }
.tfc-row.arr .tfc-flt { color: #e2e8f0; }

/* Âá∫Áô∫Ê©ü */
.tfc-row.dep {
    border-left: 3px solid #f59e0b;
    background: rgba(245, 158, 11, 0.05);
}
.tfc-row.dep .tfc-icon { color: #f59e0b; }
.tfc-row.dep .tfc-flt { color: #fbbf24; }
.tfc-row.dep .tfc-from { color: #94a3b8; }

/* Ëá™Ê©ü (SELF) */
.tfc-row.self {
    background: rgba(59, 130, 246, 0.15);
    border: 1px solid #3b82f6;
    box-shadow: 0 0 15px rgba(59, 130, 246, 0.2) inset;
    transform: scale(1.02);
}
.tfc-row.self .tfc-time, .tfc-row.self .tfc-flt { color: #3b82f6; }

/* Â§ßÂûãÊ©ü (HEAVY) */
.tfc-row.heavy {
    border-left: 5px solid #ef4444 !important;
    background: linear-gradient(90deg, rgba(239, 68, 68, 0.1) 0%, transparent 100%);
}
.tfc-row.heavy .tfc-type {
    color: #ef4444; font-weight: 900;
    text-shadow: 0 0 8px rgba(239, 68, 68, 0.6);
    letter-spacing: 0.05em;
}

/* „ÉÜ„Ç≠„Çπ„ÉàË¶ÅÁ¥† */
.tfc-time { color: #94a3b8; font-weight: 700; }
.tfc-flt { color: white; font-weight: 900; }
.tfc-type { color: #f59e0b; font-weight: 700; font-size: 0.8rem; }
.tfc-from { color: #94a3b8; font-size: 0.75rem; text-align: right; }
.tfc-icon { font-size: 0.9rem; margin-right: 5px; display: inline-block; width: 20px; text-align: center; }

/* --- SPECIAL PAX MODAL SPECIFIC --- */
.sp-modal-content { 
    width: 95%; max-width: 800px; height: 85vh; max-height: 600px; 
    background: var(--card); border: 1px solid var(--border); border-radius: 16px; 
    display: flex; flex-direction: column; overflow: hidden; 
}
.sp-modal-header { background: #020617; padding: 12px; border-bottom: 1px solid var(--border); text-align: center; font-weight: 900; color: white; font-size: 0.9rem; letter-spacing: 0.05em; }

.sp-body { display: flex; flex: 1; overflow: hidden; }
.sp-col-left { flex: 1; padding: 15px; overflow-y: auto; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
.sp-col-right { flex: 1.2; padding: 0; overflow-y: auto; background: rgba(0,0,0,0.2); display: flex; flex-direction: column; }

.sp-grid { display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 5px; }
.sp-item { display: flex; align-items: center; background: #0f172a; border: 1px solid var(--border); border-radius: 6px; padding: 8px 10px; justify-content: space-between; transition: 0.2s; }
.sp-item.has-val { border-color: var(--accent); background: rgba(245, 158, 11, 0.15); }
.sp-code { font-size: 0.8rem; font-weight: 900; color: var(--muted); width: 50px; }
.sp-input { width: 40px; background: transparent; border: none; color: white; text-align: center; font-weight: 700; font-size: 1.1rem; padding: 0; font-family: 'JetBrains Mono'; }
.sp-memo-input { background: #0f172a; border: 1px solid var(--border); color: white; padding: 12px; border-radius: 6px; font-size: 0.9rem; width: 100%; box-sizing: border-box; margin-top: auto; outline: none; }

/* ALERT ANIMATION */
@keyframes pulse-red {
    0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
    70% { box-shadow: 0 0 0 6px rgba(239, 68, 68, 0); }
    100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}
.sp-item.limit-error { border-color: var(--danger) !important; background: rgba(239, 68, 68, 0.15) !important; animation: pulse-red 1.5s infinite; }
.sp-trigger-btn.limit-error { border-color: var(--danger); background: rgba(239, 68, 68, 0.1); color: var(--danger); animation: pulse-red 1.5s infinite; }

/* Reference Table */
.ref-header { padding: 8px 12px; background: rgba(255,255,255,0.05); color: var(--muted); font-size: 0.6rem; font-weight: 900; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; }
.ref-row { display: flex; justify-content: space-between; align-items: center; padding: 9px 12px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.status-ok { color: var(--success); }
.status-cond { color: var(--accent); }
.status-ng { color: var(--danger); }
.ref-footer { margin-top: auto; padding: 10px; background: rgba(59, 130, 246, 0.1); border-top: 1px solid var(--border); font-size: 0.65rem; color: var(--muted); line-height: 1.4; }
.btn-status { width: 100%; padding: 14px; font-weight: 900; font-size: 0.9rem; cursor: pointer; border: none; background: var(--success); color: #0f172a; }

/* --- SPECIAL PAX MODAL : INTEGRATED STYLES --- */
.sp-iso-modal-content { 
    width: 90vw; height: 85vh; max-width: 800px; 
    background: var(--card); border: 1px solid var(--border); border-radius: 12px; 
    display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.6);
}

.sp-iso-modal-header { height: 40px; background: #020617; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: center; font-weight: 900; color: var(--amber); font-size: 0.9rem; letter-spacing: 0.05em; flex-shrink: 0; }
.sp-iso-body { flex: 1; display: flex; overflow: hidden; }

/* Â∑¶„Ç´„É©„É†ÔºöÁê•ÁèÄËâ≤Â§âÂåñ„Å®1ÁîªÈù¢ÂèéÂÆπ */
.sp-iso-col-left { flex: 1; padding: 12px; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
.sp-iso-grid { flex: 1; display: flex; flex-direction: column; justify-content: space-between; margin-bottom: 10px; }
.sp-iso-item { display: flex; align-items: center; justify-content: space-between; background: #0f172a; border: 1px solid var(--border); border-radius: 6px; padding: 0 10px; height: 8.2%; transition: 0.2s; }

/* Áê•ÁèÄËâ≤ÔºàAmberÔºâÂ§âÂåñ */
.sp-iso-item.has-val { border-color: var(--amber) !important; background: rgba(255, 176, 0, 0.05) !important; }
.sp-iso-item.has-val .sp-iso-input { color: var(--amber) !important; text-shadow: 0 0 10px rgba(255, 176, 0, 0.5); }

/* Êï∞ÂÄ§Ëª∏„Çí‰∏≠ÂøÉ„Å®„Åó„ÅüÂ∑¶Âè≥ÂØæÁß∞„Çπ„ÉÜ„ÉÉ„Éë„Éº */
.sp-iso-stepper-group { display: flex; align-items: center; justify-content: center; width: 130px; }
.sp-iso-btn-wrapper { flex: 1; display: flex; justify-content: center; font-size: 1.6rem; color: var(--primary); cursor: pointer; user-select: none; }
.sp-iso-input { width: 40px; background: transparent; border: none; color: white; text-align: center; font-weight: 700; font-size: 1.3rem; font-family: 'JetBrains Mono'; outline: none; }

/* Âè≥„Ç´„É©„É†ÔºöÁâ©ÁêÜÁöÑ„Çª„É≥„Çø„ÉºÂûÇÁõ¥Êï¥Âàó */
.sp-iso-col-right { flex: 1.3; background: rgba(0,0,0,0.2); display: flex; flex-direction: column; position: relative; }
.sp-iso-ref-header { height: 35px; background: rgba(255,255,255,0.05); border-bottom: 1px solid var(--border); position: relative; font-size: 0.65rem; font-weight: 900; color: var(--muted); flex-shrink: 0; }
.sp-iso-ref-list-container { flex: 1; display: flex; flex-direction: column; justify-content: space-around; }
.sp-iso-ref-row { position: relative; height: 9%; border-bottom: 1px solid rgba(255,255,255,0.03); display: flex; align-items: center; }

.pos-code { position: absolute; left: 15px; font-family: 'JetBrains Mono'; font-weight: 900; font-size: 0.75rem; color: var(--primary); }
.pos-solo { position: absolute; left: 50%; transform: translate(-50%, -50%); top: 50%; width: 80px; text-align: center; font-size: 1.1rem; font-weight: 900; }
.pos-note { position: absolute; right: 15px; text-align: right; width: 130px; font-size: 0.6rem; color: var(--muted); line-height: 1.1; }

/* LIMITË≠¶ÂëäÔºàËµ§„Éë„É´„ÇπÔºâÔºöÁê•ÁèÄËâ≤„Çí‰∏äÊõ∏„Åç */
@keyframes pulse-red-bg { 0%, 100% { background-color: rgba(239, 68, 68, 0.1); border-color: var(--danger); } 50% { background-color: rgba(239, 68, 68, 0.5); border-color: #ff0000; } }
.limit-error { animation: pulse-red-bg 1s infinite ease-in-out !important; border-width: 2px !important; }
.limit-error .sp-iso-code, .limit-error .sp-iso-input { color: #ffffff !important; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); }

.sp-iso-ref-footer { height: 70px; padding: 10px 15px; background: rgba(59, 130, 246, 0.1); border-top: 1px solid var(--border); font-size: 0.6rem; display: flex; flex-direction: column; justify-content: center; color: var(--muted); }
.sp-iso-btn-confirm { height: 50px; width: 100%; background: var(--success); color: #0f172a; border: none; font-weight: 900; cursor: pointer; flex-shrink: 0; }
.sp-iso-memo-input { background: #0f172a; border: 1px solid var(--border); color: white; padding: 10px; border-radius: 6px; font-size: 0.85rem; margin-top: 10px; width: 100%; box-sizing: border-box; outline: none; }

/* --- SPECIAL PAX LIMIT ERROR (Final Specification) --- */

/* Ëµ§„Éë„É´„Çπ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅÆÂÜçÂÆöÁæ© */
@keyframes pulse-red-bg {
    0% { background-color: rgba(239, 68, 68, 0.2); border-color: #ef4444; }
    50% { background-color: rgba(239, 68, 68, 0.7); border-color: #ff0000; box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); }
    100% { background-color: rgba(239, 68, 68, 0.2); border-color: #ef4444; }
}

/* LIMITË∂ÖÈÅéÊôÇ„ÅÆ„Çπ„Çø„Ç§„É´Ôºö!important„Çí‰ΩøÁî®„Åó„Å¶Áê•ÁèÄËâ≤„ÅÆË®≠ÂÆö„ÇíÂº∑Âà∂‰∏äÊõ∏„Åç */
.sp-iso-item.limit-error {
    animation: pulse-red-bg 0.8s infinite ease-in-out !important; /* „Éë„É´„ÇπÈÄüÂ∫¶„ÇíÂ∞ë„ÅóÈÄü„ÇÅ„Å¶Á∑äÂºµÊÑü„ÇíÂá∫„Åô */
    border-width: 2px !important;
    background: rgba(239, 68, 68, 0.2) !important;
}

/* „Ç®„É©„ÉºÊôÇ„ÅÆ„ÉÜ„Ç≠„Çπ„ÉàÔºöË¶ñË™çÊÄßÁ¢∫‰øù„ÅÆ„Åü„ÇÅÁôΩ„Å´Â§âÊõ¥ */
.limit-error .sp-iso-code, 
.limit-error .sp-iso-input {
    color: #ffffff !important;
    text-shadow: 0 0 8px rgba(255, 255, 255, 0.8) !important;
}

/* „Çπ„ÉÜ„ÉÉ„Éë„Éº„Éú„Çø„É≥„ÇÇ„Ç®„É©„ÉºÊôÇ„ÅØÁôΩ„Å´„Åô„Çã */
.limit-error .sp-iso-btn-wrapper {
    color: #ffffff !important;
}

/* --- INPUT FONTS FIX --- */

/* 1. Êï∞ÂÄ§ÂÖ•ÂäõÈÉ®ÂàÜÔºöJetBrains Mono (Á≠âÂπÖ„Éï„Ç©„É≥„Éà) */
.sp-iso-input {
    font-family: 'JetBrains Mono', monospace !important; 
    /* ÂÖ±Êúâ„ÇΩ„Éº„Çπ„Å´Âêà„Çè„Åõ„Å¶Monospace„ÇíÂº∑Âà∂ */
}

/* 2. ÂÇôËÄÉÂÖ•ÂäõÊ¨ÑÔºöInter („Ç¢„Éó„É™Ê®ôÊ∫ñ„Éï„Ç©„É≥„Éà) */
/* input„Çø„Ç∞„ÅØË¶™„ÅÆ„Éï„Ç©„É≥„Éà„ÇíÁ∂ôÊâø„Åó„Å™„ÅÑ„Åü„ÇÅ„ÄÅÊòéÁ§∫ÁöÑ„Å´ÊåáÂÆö„Åô„ÇãÂøÖË¶Å„Åå„ÅÇ„Çä„Åæ„Åô */
.sp-iso-memo-input {
    font-family: 'Inter', sans-serif !important;
    font-weight: 600; /* ÂÖ•ÂäõÊñáÂ≠ó„ÇíË¶ã„ÇÑ„Åô„Åè */
}

/* 3. ‰ΩôË®à„Å™„Çπ„Éî„É≥„Éú„Çø„É≥Ôºà‰∏ä‰∏ãÁü¢Âç∞Ôºâ„ÇíÊ∂àÂéª */
/* ÂÖ±Êúâ„ÇΩ„Éº„Çπ„Å´„ÅÇ„Å£„Åü„Äå„Çπ„Éî„É≥„Éú„Çø„É≥ÈùûË°®Á§∫„Äç„ÅÆË®≠ÂÆö„ÇÇÂæ©Ê¥ª„Åï„Åõ„Åæ„Åô */
input[type=number]::-webkit-inner-spin-button, 
input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none; 
    margin: 0; 
}

/* --- QUANTITY LABEL TWEAK --- */
.sp-iso-code {
    font-size: 0.7rem !important;  /* 0.8rem„Åã„ÇâÂ∞ë„ÅóÂ∞è„Åï„Åè */
    font-weight: 900 !important;   /* ÊúÄ„ÇÇÂ§™„Åè */
    letter-spacing: 0.05em;        /* Â∞ë„ÅóÊñáÂ≠óÈñì„ÇíÁ©∫„Åë„Å¶Â§™„Åï„ÇíÂº∑Ë™ø */
    color: var(--muted);           /* Ëâ≤„ÅØÊó¢Â≠ò„ÅÆ„Åæ„ÅæÔºàÂøÖË¶Å„Å™„ÇâÂ§âÊõ¥ÂèØÔºâ */
}

/* --- RIGHT PANEL HEADER UNIFICATION --- */
/* „Éò„ÉÉ„ÉÄ„ÉºÂÜÖ„ÅÆÂÖ®„Çø„Ç§„Éà„É´„ÇíÂº∑Âà∂ÁöÑ„Å´Áµ±‰∏Ä„Çπ„Çø„Ç§„É´„Å´„Åô„Çã */
.sp-iso-ref-header .pos-code,
.sp-iso-ref-header .pos-solo,
.sp-iso-ref-header .pos-note {
    font-family: 'Inter', sans-serif !important; /* CODE„ÅÆÁ≠âÂπÖ„Éï„Ç©„É≥„Éà„ÇíËß£Èô§ */
    color: var(--muted) !important;              /* ÂÖ®„Å¶„Ç∞„É¨„Éº„Å´Áµ±‰∏Ä */
    font-size: 0.65rem !important;               /* „Çµ„Ç§„Ç∫„ÇíÂ∞è„Åï„ÅèÁµ±‰∏Ä */
    font-weight: 900 !important;                 /* Â§™Â≠ó */
    letter-spacing: 0.05em !important;
    
    /* ÈÖçÁΩÆ(position)„ÅÆË®≠ÂÆö„ÅØ pos-* „ÇØ„É©„Çπ„ÅÆ„ÇÇ„ÅÆ„ÇíÁ∂≠ÊåÅ„Åó„Åæ„Åô */
}

/* --- RIGHT PANEL GRID LAYOUT (BALANCED) --- */

/* 1. „Ç≥„É≥„ÉÜ„Éä„Çí„Ç∞„É™„ÉÉ„ÉâÂåñ„Åó„Å¶ÂùáÁ≠âÈÖçÁΩÆ */
.sp-iso-ref-header,
.sp-iso-ref-row {
    display: grid !important;
    grid-template-columns: 1fr 1fr 1fr !important; /* 3Á≠âÂàÜ„Åß„Éê„É©„É≥„Çπ„Çí„Å®„Çã */
    align-items: center !important;
    padding: 0 15px !important; /* Â∑¶Âè≥„ÅÆ‰ΩôÁôΩ„ÇíÂ∞ë„ÅóË™øÊï¥ */
}

/* 2. Áµ∂ÂØæÈÖçÁΩÆÔºàAbsoluteÔºâ„ÇíËß£Èô§„Åó„ÄÅ„Ç∞„É™„ÉÉ„ÉâÂÜÖ„ÅÆÈÖçÁΩÆ„Å´Áõ¥„Åô */
.pos-code,
.pos-solo,
.pos-note {
    position: static !important; /* Áµ∂ÂØæÈÖçÁΩÆ„ÇíËß£Èô§ */
    transform: none !important;  /* Â∫ßÊ®ôÂ§âÊèõ„ÇíËß£Èô§ */
    width: auto !important;      /* ÂπÖÂõ∫ÂÆö„ÇíËß£Èô§ */
    height: auto !important;
}

/* 3. ÂêÑ„Ç´„É©„É†„ÅÆÊñáÂ≠óÈÖçÁΩÆ„ÇíÂÆöÁæ© */
/* Â∑¶„Ç´„É©„É†ÔºöCODE */
.pos-code {
    text-align: left !important;
}

/* ‰∏≠Â§Æ„Ç´„É©„É†ÔºöÂçòÁã¨Êê≠‰πóÔºàÂÆåÂÖ®„Å´‰∏≠Â§Æ„Å∏Ôºâ */
.pos-solo {
    text-align: center !important;
}

/* Âè≥„Ç´„É©„É†ÔºöÂÇôËÄÉÔºàÂè≥ÂØÑ„ÅõÔºâ */
.pos-note {
    text-align: right !important;
}

/* --- CLEAR BUTTON & FOOTER LAYOUT --- */

/* „Éú„Çø„É≥„ÇíÊ®™‰∏¶„Å≥„Å´„Åô„Çã„Ç≥„É≥„ÉÜ„Éä */
.sp-iso-btn-group {
    display: flex;
    width: 100%;
    height: 50px; /* È´ò„Åï„ÇíÂõ∫ÂÆö */
    flex-shrink: 0;
}

/* CLEAR„Éú„Çø„É≥ÔºöÂ∑¶ÂÅ¥„Å´ÈÖçÁΩÆ„ÄÅÂ∞ë„ÅóÁã≠„Åè„ÄÅËâ≤„ÅØÊéß„Åà„ÇÅ„Å´ */
.sp-iso-btn-clear {
    flex: 1; /* ÂπÖ„ÅÆÊØîÁéáÔºö1 */
    background: #1e293b; /* ËÉåÊôØ„ÅØÊöó„ÅÑ„Ç∞„É¨„Éº */
    color: #ef4444;      /* ÊñáÂ≠ó„ÅØËµ§Ëâ≤ÔºàDangerÔºâ */
    border: none;
    border-top: 1px solid var(--border);
    border-right: 1px solid var(--border); /* Èö£„ÅÆ„Éú„Çø„É≥„Å®„ÅÆÂ¢ÉÁïåÁ∑ö */
    font-weight: 900;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    font-size: 0.8rem;
    transition: background 0.2s;
}

.sp-iso-btn-clear:active {
    background: #334155; /* Êäº„Åó„ÅüÊôÇ„Å´Â∞ë„ÅóÊòé„Çã„Åè */
}

/* CONFIRM„Éú„Çø„É≥ÔºöÂè≥ÂÅ¥„Å´ÈÖçÁΩÆ„ÄÅÂ∫É„Åè */
.sp-iso-btn-confirm {
    flex: 3; /* ÂπÖ„ÅÆÊØîÁéáÔºö3Ôºà„ÇØ„É™„Ç¢„Éú„Çø„É≥„ÅÆ3ÂÄç„ÅÆÂπÖÔºâ */
    width: auto !important; /* width:100%„ÇíËß£Èô§ */
    border-radius: 0 !important; /* Ëßí‰∏∏„ÇíËß£Èô§„Åó„Å¶‰∏Ä‰ΩìÂåñ */
    /* Ëâ≤„Å™„Å©„ÅÆ„Çπ„Çø„Ç§„É´„ÅØÊó¢Â≠ò„ÅÆ„ÇØ„É©„Çπ„ÇíÁ∂ôÊâø */
}

/* --- HEADER CLEAR BUTTON STYLE --- */

/* „Éò„ÉÉ„ÉÄ„Éº„ÇíÁõ∏ÂØæÈÖçÁΩÆ„Å´Â§âÊõ¥ÔºàÂ≠êË¶ÅÁ¥†„ÅÆÁµ∂ÂØæÈÖçÁΩÆ„ÅÆÂü∫Ê∫ñ„Å´„Åô„Çã„Åü„ÇÅÔºâ */
.sp-iso-modal-header {
    position: relative !important;
}

/* Âè≥‰∏ä„Å´ÈÖçÁΩÆ„Åô„ÇãCLEAR„Éú„Çø„É≥ */
.sp-iso-header-clear {
    position: absolute; /* „Éò„ÉÉ„ÉÄ„ÉºÂÜÖ„Åß„ÅÆÁµ∂ÂØæ‰ΩçÁΩÆ */
    right: 15px;        /* Âè≥Á´Ø„Åã„Çâ„ÅÆË∑ùÈõ¢ */
    top: 50%;           /* ‰∏ä‰∏ã‰∏≠Â§ÆÂØÑ„Åõ */
    transform: translateY(-50%);
    
    background: transparent;
    border: 1px solid var(--danger); /* Ëµ§„ÅÑÊû†Á∑ö */
    color: var(--danger);            /* Ëµ§„ÅÑÊñáÂ≠ó */
    font-size: 0.65rem;
    font-weight: 900;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    transition: all 0.2s;
}

/* Êäº„Åó„Åü„Å®„Åç„ÅÆ„Ç®„Éï„Çß„ÇØ„Éà */
.sp-iso-header-clear:active {
    background: rgba(239, 68, 68, 0.2);
    transform: translateY(-50%) scale(0.95);
}

/* --- QUANTITY TITLE STYLE --- */
.label-mini {
    font-size: 0.65rem !important;  /* Â∞ë„ÅóÂ∞è„Åï„Åè („Éá„Éï„Ç©„É´„Éà„ÇÑ0.7rem„Çà„ÇäÂºï„ÅçÁ∑†„ÇÅ„Çã) */
    font-weight: 900 !important;    /* ‰∏ÄÁï™Â§™„Åè (Black) */
    color: var(--primary) !important; /* ÈùíËâ≤ (Primary) „ÇíÁ∂≠ÊåÅ */
    letter-spacing: 0.05em;         /* Ë¶ñË™çÊÄß„ÇíÈ´ò„ÇÅ„Çã„Åü„ÇÅÊñáÂ≠óÈñì„ÇíÂæÆË™øÊï¥ */
    display: block;                 /* „Éñ„É≠„ÉÉ„ÇØË¶ÅÁ¥†„Å®„Åó„Å¶ÂÆâÂÆö„Åï„Åõ„Çã */
    margin-bottom: 8px;             /* ‰∏ã„ÅÆ„É™„Çπ„Éà„Å®„ÅÆÈñìÈöî„ÇíÁ¢∫‰øù */
}

/* =========================================
   HOME SCREEN STYLE (MERGED)
   ========================================= */

/* Â§âÊï∞ÂÆöÁæ©Ôºà„ÅîÊèêÁ§∫„ÅÆCSS„ÅåÂèÇÁÖß„Åó„Å¶„ÅÑ„ÇãÂ§âÊï∞Ôºâ */
:root {
    --bg: #020617;          /* ÂÖ®‰ΩìËÉåÊôØ */
    --card-bg: #0f172a;     /* „Ç´„Éº„ÉâËÉåÊôØ */
    --border: #334155;      /* Êû†Á∑ö */
    --primary: #3b82f6;     /* „Éó„É©„Ç§„Éû„É™ÔºàÈùíÔºâ */
    --accent: #f59e0b;      /* „Ç¢„ÇØ„Çª„É≥„ÉàÔºàÁê•ÁèÄÔºâ */
    --danger: #ef4444;      /* Ë≠¶ÂëäÔºàËµ§Ôºâ */
    --text-main: #f8fafc;   /* ÊñáÂ≠óËâ≤ÔºàÁôΩÔºâ */
    --text-muted: #94a3b8;  /* ÊñáÂ≠óËâ≤Ôºà„Ç∞„É¨„ÉºÔºâ */
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

/* ÂÖ®‰ΩìËÉåÊôØË®≠ÂÆö */
body {
    margin: 0;
    background-color: var(--bg);
    color: var(--text-main);
    font-family: 'Inter', sans-serif;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    /* ËÉåÊôØ„Å´Â∞ë„Åó„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥„ÇíÂÖ•„Çå„Å¶„É™„ÉÉ„ÉÅ„Å´„Åô„Çã */
    background-image: radial-gradient(circle at 50% 50%, #1e293b 0%, #020617 80%);
}

/* =========================================
   „Åì„Åì„Åã„Çâ‰∏ã„ÅØ„ÅîÊåáÂÆö„ÅÆCSS„Ç≥„Éº„Éâ„Åß„Åô
   ========================================= */

.home-modal-container {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh; /* 80vh -> 100vh „Å´Ë™øÊï¥ÔºàÁîªÈù¢‰∏≠Â§ÆÈÖçÁΩÆ„ÅÆ„Åü„ÇÅÔºâ */
    padding: 10px;
}

.home-modal-card {
    background: var(--card-bg);
    border-radius: 24px;
    padding: 30px;
    width: 100%;
    max-width: 900px; /* 600px -> 900px „Å´Êã°ÂºµÔºàÊ®™‰∏¶„Å≥„ÇíÁ∂∫È∫ó„Å´Ë¶ã„Åõ„Çã„Åü„ÇÅÔºâ */
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
    border: 1px solid var(--border);
    backdrop-filter: blur(10px); /* Á£®„Çä„Ç¨„É©„ÇπÂäπÊûú„ÇíËøΩÂä† */
}

.home-header {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
}

.header-accent-bar {
    width: 5px;
    height: 32px;
    background-color: var(--primary);
    margin-right: 15px;
    border-radius: 2px;
    box-shadow: 0 0 10px var(--primary); /* Áô∫ÂÖâÂäπÊûú„ÇíËøΩÂä† */
}

/* „Çø„Ç§„Éà„É´Ë®≠ÂÆöÔºàÈáëËâ≤„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥Ôºâ */
.hero-title {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 800;
    font-size: clamp(1.0rem, 3.8vw, 1.8rem);
    letter-spacing: -0.05em;
    line-height: 1.0;
    text-transform: uppercase;
    white-space: nowrap;

    /* „Ç¥„Éº„É´„Éâ„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥ */
    background: linear-gradient(90deg, #d4af37, #fcd34d, #d4af37);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;

    /* Ëºù„Åç„ÇíÂº∑Ë™ø„Åô„ÇãÂÖâÊ≤¢ÊÑü„ÇíËøΩÂä† */
    filter: drop-shadow(0 2px 5px rgba(212, 175, 55, 0.3));
}

.header-sub {
    font-size: 0.8rem;
    color: var(--text-muted);
    margin-top: 4px;
    font-weight: 700;
    letter-spacing: 0.2em;
}

action-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr; /* 3Âàó„Å´Êàª„Åô */
    gap: 15px; /* ÈñìÈöî„ÇíÂ∞ë„ÅóÂ∫É„Åí„Çã */
    margin-bottom: 25px;
}

/* „Ç´„Éº„ÉâË®≠ÂÆö */
.action-card {
    position: relative;
    overflow: hidden;
    background: #1e293b; /* --bg„Å†„Å®Êöó„Åô„Åé„Çã„ÅÆ„ÅßÂ∞ë„ÅóÊòé„Çã„Åè */
    border: 2px solid var(--border);
    border-radius: 20px;
    padding: 25px 15px;
    text-align: center;
    color: var(--text-main);
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    aspect-ratio: 16 / 10; /* Ê≠£ÊñπÂΩ¢(1/1)„Å†„Å®Áã≠„ÅÑ„ÅÆ„ÅßÂ∞ë„ÅóÊ®™Èï∑„Å´Ë™øÊï¥ */
    text-decoration: none; /* „É™„É≥„ÇØ„ÅÆ‰∏ãÁ∑ö„ÇíÊ∂à„Åô */
}

/* „Éõ„Éê„ÉºÊôÇ„ÅÆÊåôÂãï */
.action-card:not(.action-disabled):hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.action-card:active {
    transform: scale(0.96);
}

.action-icon {
    font-size: 3rem;
    margin-bottom: 15px;
}

.action-title {
    font-family: 'JetBrains Mono', monospace;
    font-weight: 900;
    font-size: 1.1rem;
    letter-spacing: 0.02em;
    margin-bottom: 6px;
    color: white;
}

.action-sub {
    font-size: 0.7rem;
    color: var(--text-muted);
    font-weight: 600;
    background: rgba(255,255,255,0.05);
    padding: 4px 10px;
    border-radius: 20px;
}

/* COMING SOON „Çπ„Çø„É≥„Éó */
.cs-stamp {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-15deg);
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.4rem;
    font-weight: 900;
    color: rgba(255, 255, 255, 0.9);
    white-space: nowrap;
    border: 3px solid rgba(255, 255, 255, 0.9);
    padding: 5px 10px;
    border-radius: 8px;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    z-index: 10;
    pointer-events: none;
}

/* ÁÑ°ÂäπÂåñÁä∂ÊÖã */
.action-disabled {
    filter: grayscale(100%) brightness(0.6) blur(1px);
    opacity: 1.0;
    pointer-events: none;
    border-color: transparent;
    background: rgba(0, 0, 0, 0.3);
    cursor: default;
}

.action-disabled .action-icon,
.action-disabled .action-title,
.action-disabled .action-sub {
    opacity: 0.2;
}

/* ÂêÑ„Éú„Çø„É≥Ëâ≤ */
.action-ship {
    border-color: #8b5cf6;
}

.action-ship:not(.action-disabled):hover {
    background: rgba(139, 92, 246, 0.1);
    border-color: #a78bfa;
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.2);
}

.action-ship .action-title {
    color: #a78bfa; /* Á¥´Á≥ª„ÅÆÊòé„Çã„ÅÑËâ≤ */
}

.action-interval {
    border-color: var(--accent);
}

.action-interval:hover {
    background: rgba(245, 158, 11, 0.1);
}

.action-interval .action-title {
    color: var(--accent);
}

.action-dutyoff {
    border-color: var(--danger);
}

.action-dutyoff:hover {
    background: rgba(239, 68, 68, 0.1);
}

.action-dutyoff .action-title {
    color: var(--danger);
}

.cancel-btn {
    width: 100%;
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-muted);
    font-weight: 700;
    font-size: 1rem;
    cursor: pointer;
    padding: 15px;
    border-radius: 8px;
    font-family: 'JetBrains Mono', monospace;
    transition: 0.2s;
}
.cancel-btn:hover {
    background: rgba(255,255,255,0.05);
    color: white;
    border-color: white;
}

@media (max-width: 500px) {
    .action-grid {
        grid-template-columns: 1fr;
    }

    .action-card {
        aspect-ratio: auto;
        height: 100px;
        flex-direction: row;
        padding: 20px;
        justify-content: flex-start;
    }

    .action-icon {
        margin-bottom: 0;
        margin-right: 20px;
        font-size: 2.5rem;
    }

    .action-card div {
        align-items: flex-start;
        text-align: left;
    }
}

/* =========================================
   SPECIAL LOAD MODAL STYLES (Ported)
   ========================================= */

/* TRIGGER BUTTON (MAIN SCREEN) */
/* Êó¢Â≠ò„ÅÆ .sp-btn „Çí‰∏äÊõ∏„Åç„Åó„Å¶„Ç¢„É©„Éº„ÉàÂØæÂøú„ÅÆ„Ç≥„É≥„ÉÜ„Éä„Å´„Åô„Çã */
.trigger-container { 
    width: 100%; background: var(--card); border: 1px solid var(--border); border-radius: 8px; 
    min-height: 55px; display: flex; flex-direction: column; justify-content: center; 
    position: relative; overflow: hidden; transition: 0.2s; cursor: pointer;
}

.trigger-content { padding: 0 15px; display: flex; align-items: center; justify-content: space-between; width: 100%; height: 55px; }
.trigger-text { color: var(--muted); font-weight: 700; font-size: 0.85rem; letter-spacing: 0.05em; }
.trigger-icon { font-size: 1.4rem; margin-right: 10px; }
.status-icon { font-size: 1.2rem; }

/* Status Colors */
.status-data { border-color: var(--accent); background: rgba(245, 158, 11, 0.1); }
.status-data .trigger-text { color: var(--accent); }

.status-radio { border-color: var(--danger); background: rgba(239, 68, 68, 0.05); }
.status-radio .trigger-text { color: var(--danger); }

/* ALERTS (Red Pulse) */
.alert-wrapper { display: flex; flex-direction: column; width: 100%; }
.alert-row {
    display: flex; align-items: center; justify-content: center; gap: 10px;
    padding: 12px; width: 100%; 
    background: rgba(239, 68, 68, 0.15); border-bottom: 1px solid rgba(239, 68, 68, 0.3);
    color: var(--danger); font-weight: 900; font-size: 0.85rem; letter-spacing: 0.05em;
    cursor: pointer; animation: pulse-bg 1.5s infinite;
}
.alert-row:last-child { border-bottom: none; }
@keyframes pulse-bg { 0% { background: rgba(239, 68, 68, 0.15); } 50% { background: rgba(239, 68, 68, 0.25); } 100% { background: rgba(239, 68, 68, 0.15); } }

/* MODAL INTERNAL UI */
.sec-header { font-size: 0.65rem; color: var(--muted); font-weight: 900; letter-spacing: 0.05em; margin: 15px 0 6px 0; border-bottom: 1px solid var(--border); padding-bottom: 2px; }

/* DETAIL ROW */
.detail-row { display: flex; align-items: center; justify-content: space-between; gap: 8px; background: rgba(0,0,0,0.2); padding: 8px 10px; border-radius: 8px; border: 1px solid var(--border); margin-bottom: 8px; transition: 0.3s; min-height: 50px; }
.detail-row.has-val { border-color: var(--accent); background: rgba(245, 158, 11, 0.05); }
.detail-row.radio-active { border-color: var(--danger); background: rgba(239, 68, 68, 0.05); }
.detail-row.limit-error { border-color: var(--danger) !important; background: rgba(239, 68, 68, 0.15) !important; animation: pulse-red 1.5s infinite; }
.limit-error .row-label, .limit-error .row-sub { color: var(--danger) !important; }

.row-left { display: flex; align-items: center; gap: 10px; flex: 1; overflow: hidden; }
.row-label-group { display: flex; flex-direction: column; min-width: 70px; }
.row-label { font-size: 0.8rem; font-weight: 900; color: #cbd5e1; display: block; line-height: 1.2; }
.row-sub { font-size: 0.5rem; color: var(--muted); font-weight: 600; white-space: nowrap; line-height: 1.2; }

/* STYLED INPUT */
.input-group-styled { display: flex; align-items: center; background: #0f172a; border: 1px solid var(--border); border-radius: 6px; padding: 0 8px; height: 36px; width: 100px; flex-shrink: 0; }
.clean-input { flex: 1; background: transparent; border: none; color: white; font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.1rem; text-align: right; padding: 0; width: 100%; outline: none; }
.fixed-unit { color: var(--muted); font-size: 0.7rem; font-weight: 900; margin-left: 3px; padding-top: 2px; }

/* CONTROLS (POS & TOGGLE) */
.pos-group { display: flex; gap: 2px; }
.pos-btn { background: #0f172a; border: 1px solid var(--border); color: var(--muted); font-size: 0.65rem; font-weight: 900; width: 30px; height: 30px; border-radius: 4px; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center; }
.pos-btn.active { background: var(--danger); border-color: var(--danger); color: white; }

.toggle-group { display: flex; background: #0f172a; border-radius: 6px; padding: 2px; border: 1px solid var(--border); height: 32px; align-items: center; }
.toggle-btn { flex: 1; background: transparent; border: none; color: var(--muted); font-size: 0.65rem; font-weight: 900; padding: 0 8px; height: 100%; cursor: pointer; border-radius: 4px; }
.toggle-btn.active { background: var(--primary); color: white; }

/* LIST GRID */
.list-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.list-btn { background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 8px; padding: 8px; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: 0.1s; }
.list-btn:active { transform: scale(0.98); }
.code-box { background: rgba(0,0,0,0.3); padding: 4px 6px; border-radius: 4px; font-family: 'JetBrains Mono'; font-size: 0.8rem; font-weight: 700; color: #cbd5e1; min-width: 45px; text-align: center; }
.text-box { display: flex; flex-direction: column; }
.item-name { font-size: 0.75rem; font-weight: 900; color: #cbd5e1; line-height: 1.1; }
.item-desc { font-size: 0.55rem; font-weight: 500; color: var(--muted); line-height: 1.1; }

.list-btn.active { background: rgba(245, 158, 11, 0.15); border-color: var(--accent); }
.list-btn.active .code-box { color: #0f172a; background: var(--accent); }
.list-btn.active .item-name { color: var(--accent); }

/* =========================================
   CLOSE LEG & ENDING ANIMATION STYLES
   ========================================= */

/* --- ACTION SELECTION MODAL --- */
.action-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 10px; }

.action-btn {
    background: #0f172a; border: 1px solid var(--border); color: white;
    padding: 15px 5px; border-radius: 16px; 
    display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;
    cursor: pointer; transition: all 0.2s ease; height: 110px; position: relative; overflow: hidden;
}
.action-btn:active { transform: scale(0.95); }
.action-btn:hover { transform: translateY(-3px); }

/* Types */
.btn-ship { color: #a855f7; border-color: rgba(168, 85, 247, 0.3); } 
.btn-ship:hover { border-color: #a855f7; background: rgba(168, 85, 247, 0.1); }
.btn-interval { color: #fbbf24; border-color: rgba(251, 191, 36, 0.3); }
.btn-interval:hover { border-color: #fbbf24; background: rgba(251, 191, 36, 0.1); }
.btn-duty { color: #f43f5e; border-color: rgba(244, 63, 94, 0.3); }
.btn-duty:hover { border-color: #f43f5e; background: rgba(244, 63, 94, 0.1); }

.action-btn .icon { font-size: 2.0rem; margin-bottom: 8px; }
.btn-label-main { font-size: 0.8rem; font-weight: 900; line-height: 1.1; letter-spacing: 0.05em; }
.btn-label-sub { font-size: 0.6rem; color: var(--muted); font-weight: 600; margin-top: 4px; }

/* --- CLOSE CHECKLIST (Specific) --- */
.cl-container { display: none; flex-direction: column; gap: 8px; animation: slideUp 0.3s ease; margin-top: 15px; }
@keyframes slideUp { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }

.cl-item {
    display: flex; align-items: center; gap: 15px; padding: 12px 15px;
    background: rgba(255,255,255,0.03); border-radius: 10px; border: 1px solid transparent;
    cursor: pointer; transition: 0.2s;
}
.cl-item.checked { background: rgba(16, 185, 129, 0.1); border-color: #10b981; }

.cl-circle {
    width: 22px; height: 22px; border-radius: 50%; border: 2px solid var(--muted);
    display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: 0.2s;
}
.cl-item.checked .cl-circle { border-color: #10b981; background: #10b981; color: #0f172a; }
.cl-circle::after { content: '‚úì'; font-weight: 900; font-size: 14px; display: none; }
.cl-item.checked .cl-circle::after { display: block; }
.cl-text { font-size: 0.9rem; font-weight: 600; color: var(--muted); }
.cl-item.checked .cl-text { color: white; }

/* ALCOHOL ALERT STYLE */
.cl-item.alcohol-alert {
    background: rgba(239, 68, 68, 0.1); border: 1px solid #ef4444;
    box-shadow: 0 0 10px rgba(239, 68, 68, 0.1); animation: pulseRed 2s infinite;
}
@keyframes pulseRed { 0% { box-shadow: 0 0 5px rgba(239, 68, 68, 0.2); } 50% { box-shadow: 0 0 15px rgba(239, 68, 68, 0.4); } 100% { box-shadow: 0 0 5px rgba(239, 68, 68, 0.2); } }
.cl-item.alcohol-alert.checked { background: #ef4444 !important; border-color: #ef4444; animation: none; }
.cl-item.alcohol-alert.checked .cl-circle { background: white; border-color: white; color: #ef4444; }
.cl-item.alcohol-alert .cl-text { color: #fca5a5; font-weight: 900; }
.cl-item.alcohol-alert.checked .cl-text { color: white; }

/* CONFIRM BUTTONS */
.btn-cl-confirm {
    background: #3b82f6; color: #0f172a; border: none; padding: 15px;
    border-radius: 12px; font-weight: 900; cursor: pointer; text-align: center;
    opacity: 0.5; pointer-events: none; margin-top: 15px; transition: 0.2s; font-size: 0.95rem; width: 100%;
}
.btn-cl-confirm.ready { opacity: 1; pointer-events: all; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3); }

/* --- LEG COMPLETE OVERLAY (Inside Workspace) --- */
.leg-comp-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(5px);
    display: none; flex-direction: column; align-items: center; justify-content: center;
    z-index: 50;
}
.leg-comp-overlay.active { display: flex; }
.comp-icon { font-size: 4rem; color: #10b981; margin-bottom: 10px; filter: drop-shadow(0 0 15px rgba(16, 185, 129, 0.3)); }
.comp-title { font-size: 1.5rem; font-weight: 900; color: white; margin-bottom: 5px; letter-spacing: 0.1em; }
.comp-sub { font-size: 0.8rem; font-weight: 700; color: #10b981; margin-bottom: 30px; letter-spacing: 0.2em; }
.btn-reopen { background: transparent; border: 1px solid #334155; color: #94a3b8; padding: 10px 20px; border-radius: 8px; font-weight: 700; cursor: pointer; font-size: 0.8rem; margin-top: 10px; }
.btn-reopen:hover { border-color: white; color: white; }

/* --- CINEMATIC ENDING SCREEN --- */
.ending-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle at center bottom, #1e293b 0%, #020617 80%);
    z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none; transition: opacity 1.5s ease;
    cursor: pointer;
}
.ending-screen.visible { opacity: 1; pointer-events: all; }

.end-text-main {
    font-family: 'Montserrat', sans-serif; font-size: 3rem; font-weight: 800; color: #ffffff;
    letter-spacing: 0.02em; text-align: center; line-height: 1.1; 
    transform: scale(1.1); opacity: 0; transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94) 0.5s; 
    text-shadow: 0 4px 20px rgba(0,0,0,0.5);
}
.end-text-sub {
    font-family: 'Montserrat', sans-serif; font-size: 0.9rem; font-weight: 700; color: #f43f5e;
    margin-top: 30px; letter-spacing: 0.3em; text-transform: uppercase;
    transform: translateY(20px); opacity: 0; transition: all 1s ease 1.0s;
}
.ending-screen.visible .end-text-main { transform: scale(1); opacity: 1; }
.ending-screen.visible .end-text-sub { transform: translateY(0); opacity: 1; }

/* Jet Animation */
.plane-container { position: absolute; left: -100px; bottom: 10%; z-index: 2002; opacity: 0; }
.ending-screen.visible .plane-container { animation: jetFlybySubtle 6s cubic-bezier(0.4, 0, 0.2, 1) 0.5s forwards; }
.jet-svg { width: 60px; height: 60px; fill: #ffffff; opacity: 0.7; filter: drop-shadow(0 0 5px rgba(255,255,255,0.5)); transform: rotate(35deg); }
.contrail { position: absolute; top: 30px; left: -60px; width: 200px; height: 2px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), rgba(255,255,255,0.4)); transform: rotate(35deg); filter: blur(6px); }
@keyframes jetFlybySubtle { 0% { transform: translate(0, 0) scale(0.3); opacity: 0; } 20% { opacity: 1; } 100% { transform: translate(calc(100vw + 100px), calc(-60vh)) scale(0.1); opacity: 0; } }

.restart-hint {
    position: absolute; bottom: 40px; width: 100%; text-align: center;
    color: rgba(255,255,255,0.3); font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em;
    opacity: 0; transition: opacity 1s ease 3s;
}
.ending-screen.visible .restart-hint { opacity: 1; animation: blinkHint 3s infinite; }
@keyframes blinkHint { 0%, 100% { opacity: 0.3; } 50% { opacity: 0.7; } }

/* --- SPECIAL LOAD CLEAR BUTTON --- */
.header-clear-btn {
    background: transparent;
    border: 1px solid var(--danger); /* Ëµ§Êû† */
    color: var(--danger);            /* Ëµ§ÊñáÂ≠ó */
    font-size: 0.65rem;
    font-weight: 900;
    padding: 4px 10px;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Inter', sans-serif;
    transition: all 0.2s;
}

.header-clear-btn:active {
    background: rgba(239, 68, 68, 0.2);
    transform: scale(0.95);
}

/* =========================================
   W&B MODAL STYLES (INTEGRATED)
   ========================================= */

.wb-card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 16px; padding: 24px; width: 750px; max-width: 95vw;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
    display: flex; flex-direction: column; gap: 20px;
    position: relative;
    max-height: 90vh; overflow-y: auto;
}

.wb-layout { display: flex; gap: 25px; }
.col-left { flex: 1.2; }
.col-right { width: 260px; display: flex; flex-direction: column; gap: 15px; }

/* Mobile Response */
@media (max-width: 768px) {
    .wb-layout { flex-direction: column; }
    .col-right { width: 100%; }
}

/* W&B Specific Mode Toggle */
.mode-toggle {
    display: flex; background: #0f172a; border-radius: 8px; padding: 4px;
    border: 1px solid var(--border); overflow: hidden; margin-left: auto; margin-right: 10px;
}
.mode-btn {
    border: none; background: transparent; color: var(--muted);
    padding: 6px 12px; font-weight: 900; font-size: 0.8rem; cursor: pointer; transition: 0.2s;
}
.mode-btn.active {
    background: rgba(59, 130, 246, 0.2); color: var(--primary);
}

.m-close-small {
    background: none; border: none; color: var(--muted); font-size: 1.5rem; cursor: pointer;
}

/* Chart Container */
.chart-container {
    background: #0f172a; border: 1px solid var(--border);
    border-radius: 12px; padding: 10px; height: 240px; position: relative; margin-top: 15px;
}
.chart-container canvas { width: 100%; height: 100%; display: block; }
.thrust-badge {
    position: absolute; bottom: 10px; left: 10px; 
    font-size: 0.7rem; font-weight: 900; color: var(--muted);
    background: rgba(255,255,255,0.05); padding: 2px 6px; border-radius: 4px;
}

/* Limit Cards */
.limit-card {
    background: #0f172a; border: 1px solid #334155;
    border-radius: 12px; padding: 15px;
    display: flex; flex-direction: column; gap: 6px; position: relative; overflow: hidden;
}
.limit-card::after { 
    content: ''; position: absolute; top:0; left:0; width: 4px; height: 100%;
    background: var(--muted); transition: 0.3s;
}
.limit-card.active-card::after { background: var(--primary); }

.lc-title { font-size: 0.65rem; font-weight: 900; color: #94a3b8; letter-spacing: 0.05em; margin-bottom: 2px; }
.lc-row { display: flex; justify-content: space-between; align-items: center; font-size: 0.8rem; font-weight: 700; color: #64748b; }
.lc-val { font-family: 'JetBrains Mono', monospace; font-size: 1.0rem; color: white; transition: color 0.3s;}

.lc-bar-bg { width: 100%; height: 6px; background: #1e293b; border-radius: 3px; overflow: hidden; margin: 6px 0; }
.lc-bar-fill { height: 100%; background: #22c55e; transition: width 0.3s, background-color 0.3s; }
.lc-margin-row { display: flex; justify-content: space-between; font-size: 0.75rem; font-weight: 800; color: #94a3b8; border-top: 1px solid #1e293b; padding-top: 8px; margin-top: 2px; }

/* Special Styles */
.ldg-style { border-color: rgba(245, 158, 11, 0.3) !important; background: rgba(245, 158, 11, 0.05) !important; }
.ldg-style .fixed-unit { color: var(--accent) !important; }
.fuel-style { border-color: rgba(34, 197, 94, 0.3) !important; background: rgba(34, 197, 94, 0.05) !important; }
.fuel-style .fixed-unit { color: var(--success) !important; }

/* Burn Alert */
.burn-alert {
    display: none; 
    background: rgba(239, 68, 68, 0.15); border: 1px solid rgba(239, 68, 68, 0.4);
    border-radius: 8px; padding: 10px; margin-top: 8px;
    text-align: center; color: #ef4444; font-weight: 900; font-size: 0.8rem;
    animation: pulseAlert 2s infinite;
}
@keyframes pulseAlert { 0% { border-color: rgba(239, 68, 68, 0.4); } 50% { border-color: rgba(239, 68, 68, 1); } 100% { border-color: rgba(239, 68, 68, 0.4); } }
.tof-highlight { display: block; font-size: 1.1rem; color: #f59e0b; margin-top: 2px; text-shadow: 0 0 10px rgba(245, 158, 11, 0.3); }

/* Status Box */
#cg-status-box {
    margin-top: auto; background: rgba(34, 197, 94, 0.1); 
    border: 1px solid var(--success); color: var(--success); 
    padding: 12px; border-radius: 8px; text-align: center; font-weight: 900; font-size: 0.9rem;
    transition: 0.3s;
}

/* =========================================
   W&B FIXES & MISSING STYLES
   ========================================= */

/* 1. „É¨„Ç§„Ç¢„Ç¶„ÉàÂ¥©„Çå„ÅÆÂéüÂõ†ÔºöW&BÂÜÖ„Å†„ÅëÂÖ•ÂäõÊ¨Ñ„ÅÆÂπÖÂà∂Èôê„ÇíËß£Èô§ */
.wb-layout .input-group-styled {
    width: auto !important; /* 100pxÂõ∫ÂÆö„ÇíËß£Èô§ */
    flex: 1;                /* Ê®™„ÅÑ„Å£„Å±„ÅÑ„Å´Â∫É„Åí„Çã */
}

/* 2. ÂÆöÁæ©Êºè„Çå„ÅÆ„ÇØ„É©„Çπ„ÇíËøΩÂä† (wb.html„Åã„ÇâÁßªÊ§ç) */
.sec-label { 
    font-size: 0.7rem; 
    font-weight: 800; 
    margin-bottom: 5px; 
    letter-spacing: 0.05em; 
    margin-top: 10px;
    display: block;
}

.input-row { 
    display: flex; 
    justify-content: space-between; 
    gap: 10px; 
    margin-bottom: 5px; 
}

/* 3. „Ç¢„É©„Éº„ÉàË°®Á§∫„ÅÆË™øÊï¥ */
/* margin-top„Å™„Å©„Åå‰∏çË∂≥„Åó„Å¶Ë©∞„Åæ„Å£„Å¶Ë¶ã„Åà„Çã„ÅÆ„Çí‰øÆÊ≠£ */
.burn-alert {
    /* Êó¢Â≠ò„ÅÆ„Çπ„Çø„Ç§„É´„Å´ËøΩÂä†„ÅßÈÅ©Áî®„Åï„Çå„Åæ„Åô */
    width: 100%;
    box-sizing: border-box;
    margin-top: 12px;
}

/* 4. „É¢„Éº„ÉÄ„É´ÂÖ®‰Ωì„ÅÆ„Çπ„ÇØ„É≠„Éº„É´Ë™øÊï¥ (Ë¶ãÂàá„ÇåÈò≤Ê≠¢) */
.wb-card {
    /* ÂøÖË¶Å„Å´Âøú„Åò„Å¶È´ò„Åï„ÇíÁ¢∫‰øù */
    max-height: 90vh;
    overflow-y: auto;
}

/* =========================================
   W&B LAYOUT FIXES (HEADER & TOGGLE)
   ========================================= */

/* 1. „Éò„ÉÉ„ÉÄ„Éº„Çí FlexboxÂåñ„Åó„Å¶„ÄÅ„Çø„Ç§„Éà„É´„Å®„Éú„Çø„É≥„ÇíÂ∑¶Âè≥„Å´ÈÖçÁΩÆ */
.wb-card .m-head {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 15px; /* ‰∏ã„Å®„ÅÆÈñìÈöî„ÇíÁ¢∫‰øù */
}

/* 2. „Çø„Ç§„Éà„É´ÊñáÂ≠ó„ÅÆË®≠ÂÆöÔºàÂ∑¶ÂØÑ„ÅõÁ¢∫‰øùÔºâ */
.wb-card .m-head > span {
    margin-right: auto;
}

/* 3. „É¢„Éº„ÉâÂàá„ÇäÊõø„Åà„Éú„Çø„É≥ (wb.html„ÅÆÂÆåÂÖ®ÁßªÊ§ç) */
.mode-toggle {
    display: flex; 
    background: #0f172a; 
    border-radius: 8px; 
    padding: 4px;
    border: 1px solid var(--border); 
    overflow: hidden;
    margin-right: 15px; /* Èñâ„Åò„Çã„Éú„Çø„É≥„Å®„ÅÆÈñìÈöî */
    height: 40px;       /* È´ò„ÅïÂõ∫ÂÆö */
}

.mode-btn {
    flex: 1;            /* ÂùáÁ≠âÂπÖ„Å´Â∫É„Åí„Çã */
    border: none; 
    background: transparent; 
    color: var(--muted);
    padding: 0 15px;    /* Ê®™ÂπÖ„ÇíÁ¢∫‰øù */
    font-weight: 900; 
    font-size: 0.8rem; 
    cursor: pointer; 
    transition: 0.2s;
    display: flex; 
    align-items: center; 
    justify-content: center;
    white-space: nowrap; /* Êäò„ÇäËøî„ÅóÈò≤Ê≠¢ */
}

/* „Ç¢„ÇØ„ÉÜ„Ç£„ÉñÊôÇ„ÅÆ„Çπ„Çø„Ç§„É´ (wb.htmlÊ∫ñÊã†) */
.mode-btn.active {
    background: rgba(59, 130, 246, 0.2) !important; 
    color: var(--primary) !important;
    box-shadow: inset 0 0 10px rgba(59, 130, 246, 0.1);
}

/* =========================================
   HOLDING REFERENCE MODULE
   ========================================= */

.hold-header { background: #0f172a; padding: 15px; border-bottom: 2px solid var(--primary); text-align: center; position: relative; }
.hold-title { font-size: 1.1rem; font-weight: 900; letter-spacing: 0.1em; color: white; }
.hold-subtitle { font-size: 0.6rem; color: var(--primary); margin-top: 4px; font-weight: 900; }

.hold-tabs { display: flex; background: #0f172a; padding: 4px; gap: 4px; border-bottom: 1px solid var(--border); }
.hold-tab { flex: 1; padding: 10px; border: none; background: transparent; color: var(--muted); font-weight: 900; font-size: 0.7rem; cursor: pointer; border-radius: 8px; transition: 0.2s; }
.hold-tab.active { background: var(--primary); color: white; }

.hold-section { padding: 15px; background: rgba(30, 41, 59, 0.5); border-bottom: 1px solid var(--border); }
.hold-sec-title { font-size: 0.6rem; font-weight: 900; color: var(--muted); margin-bottom: 10px; display: block; letter-spacing: 0.1em; }

.hold-spd-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px; padding: 10px 12px; background: #0f172a; border-radius: 8px; border-left: 4px solid transparent; }
.hold-spd-alt { font-size: 0.75rem; font-weight: 700; color: var(--muted); }
.hold-spd-val { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.4rem; color: white; }

.hold-grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.hold-info-box { background: #0f172a; border-radius: 8px; padding: 10px; text-align: center; border: 1px solid var(--border); }
.hold-info-label { font-size: 0.55rem; color: var(--muted); font-weight: 700; display: block; margin-bottom: 4px; }
.hold-info-val { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 1.2rem; color: white; }

.hold-turb-box { grid-column: span 2; border-color: var(--amber); background: rgba(245, 158, 11, 0.1); }
.hold-turb-val { color: var(--amber); font-size: 1.1rem !important; }

/* Calculator */
.hold-calc-container { background: #0f172a; border-radius: 8px; padding: 12px; border: 1px solid var(--cyan); grid-column: span 2; }
.hold-calc-container.hidden { display: none; }
.hold-calc-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.hold-calc-group { display: flex; flex-direction: column; align-items: center; }
.hold-calc-group label { font-size: 0.5rem; color: var(--muted); font-weight: 700; margin-bottom: 4px; }
.hold-calc-group input { width: 90%; background: #1e293b; border: 1px solid var(--border); color: white; font-family: 'JetBrains Mono'; text-align: center; border-radius: 4px; padding: 8px; font-size: 1.1rem; outline: none; }

.hold-res-display { text-align: center; padding-top: 10px; border-top: 1px solid var(--border); margin-top: 10px; position: relative; }
.hold-res-val { font-family: 'JetBrains Mono'; font-size: 1.5rem; color: white; }
.hold-reset-btn { position: absolute; right: 0; bottom: 0; background: transparent; border: 1px solid var(--border); color: var(--muted); font-size: 0.5rem; padding: 4px 8px; border-radius: 4px; cursor: pointer; text-transform: uppercase; font-weight: 900; }

/* Rules */
.hold-rule-list { margin: 0; padding: 0; list-style: none; }
.hold-rule-item { font-size: 0.7rem; color: white; margin-bottom: 6px; padding-left: 12px; position: relative; font-weight: 700; }
.hold-rule-item::before { content: "‚Ä¢"; position: absolute; left: 0; color: var(--primary); }
.hold-rule-important { color: var(--danger); background: rgba(239, 68, 68, 0.15); padding: 8px; border-radius: 6px; border: 1px solid var(--danger); margin-top: 10px; font-weight: 900; display: flex; align-items: center; justify-content: center; gap: 8px; text-transform: uppercase; font-size: 0.8rem; }

/* =========================================
   CONVERTER MODULE STYLES
   ========================================= */

.conv-container { display: flex; flex-direction: column; gap: 15px; padding: 10px 0; }

.conv-section { display: flex; flex-direction: column; gap: 5px; }
.conv-label { font-size: 0.7rem; font-weight: 900; color: var(--muted); margin-left: 5px; }

.conv-input-row { display: flex; gap: 10px; align-items: center; }
.conv-step-btn {
    background: #334155; border: none; color: white; border-radius: 6px;
    width: 60px; height: 40px; font-weight: 900; cursor: pointer; font-size: 0.75rem;
}
.conv-step-btn:active { background: var(--primary); }

.conv-sub-info {
    display: flex; justify-content: space-between; padding: 0 10px;
    font-size: 0.75rem; font-weight: 700; color: #94a3b8; font-family: 'JetBrains Mono';
}

.conv-divider { height: 1px; background: var(--border); margin: 5px 0; }

.conv-grid { display: flex; align-items: center; gap: 10px; }
.conv-col { flex: 1; }
.conv-arrow { color: var(--muted); font-size: 1.2rem; padding-top: 15px; }

.conv-active-input { border-color: #64748b; background: rgba(0,0,0,0.2); }
.conv-active-input:focus-within { border-color: var(--primary); background: rgba(59,130,246,0.1); }

/* Result Box */
.conv-result-box {
    background: #020617; border: 1px solid var(--border); border-radius: 12px;
    padding: 15px; text-align: center; margin-top: 10px;
}
.conv-res-label { font-size: 0.7rem; color: var(--primary); font-weight: 900; letter-spacing: 0.1em; display: block; margin-bottom: 5px; }
.conv-res-val { font-family: 'JetBrains Mono'; font-weight: 900; font-size: 2.5rem; color: white; line-height: 1; }

/* =========================================
   SCENARIO ANALYZER STYLES (v9 Integrated)
   ========================================= */

.sa-container { display: flex; flex-direction: column; gap: 15px; padding: 10px 0; }
.sa-header-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }

.sa-grid-compare { display: flex; align-items: flex-start; gap: 15px; }
.sa-panel { flex: 1; background: rgba(0,0,0,0.2); border-radius: 10px; padding: 15px; border: 1px solid var(--border); display: flex; flex-direction: column; gap: 12px; }
.sa-panel.base { border-top: 4px solid var(--cyan); }
.sa-panel.scenario { border-top: 4px solid var(--accent); }

.sa-panel-head { font-size: 0.8rem; font-weight: 900; color: var(--muted); text-align: center; margin-bottom: 5px; }
.sa-arrow { display: flex; align-items: center; justify-content: center; color: var(--muted); font-size: 1.5rem; padding-top: 50px; }

.sa-input-row { display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 5px 10px; border-radius: 6px; min-height: 42px; cursor: pointer; }
.sa-input-row:active { background: rgba(255,255,255,0.1); }

.sa-label { font-size: 0.65rem; color: var(--muted); font-weight: 700; margin-bottom: 2px; }
.sa-row-label { font-size: 0.75rem; font-weight: 700; color: var(--muted); width: 60px; }
.sa-unit { font-size: 0.75rem; color: var(--muted); margin-left: 5px; width: 25px; text-align:right;}

.sa-info-disp { 
    text-align: right; font-size: 0.75rem; color: #64748b; 
    font-family: 'JetBrains Mono'; margin-top: 5px; line-height: 1.4;
}
.sa-temp-val { color: var(--muted); font-size: 0.7rem; margin-right: 5px; }
.sa-conv-val { color: var(--text); font-weight: 700; display: block; margin-top: 2px;}

.sa-result-area { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px; }
.sa-res-box { background: rgba(0,0,0,0.4); border-radius: 8px; padding: 15px; text-align: center; border: 1px solid var(--border); }
.sa-res-title { font-size: 0.75rem; color: var(--muted); font-weight: 700; margin-bottom: 5px; }
.sa-res-val { font-size: 2rem; font-family: 'JetBrains Mono'; font-weight: 900; color: white; }
.sa-res-sub { font-size: 0.9rem; font-family: 'JetBrains Mono'; color: var(--muted); margin-top: 5px; }

.sa-judge { text-align: center; font-weight: 900; font-size: 1.2rem; padding: 12px; border-radius: 8px; background: rgba(255,255,255,0.05); letter-spacing: 0.05em; margin-top: 10px;}

.res-good { color: var(--success); }
.res-bad { color: var(--danger); }
.res-neutral { color: var(--text); background: rgba(255,255,255,0.1); }
.res-cost { color: var(--amber); }

/* =========================================
   SCENARIO ANALYZER STYLES (v9 Integrated)
   ========================================= */

/* --- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„Éä --- */
.sa-container { display: flex; flex-direction: column; gap: 15px; padding: 10px 0; }
.sa-header-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }

/* --- ÊØîËºÉ„Éë„Éç„É´ÔºàÂ∑¶Âè≥„É¨„Ç§„Ç¢„Ç¶„ÉàÔºâ --- */
.sa-grid-compare { display: flex; align-items: flex-start; gap: 15px; }
.sa-panel { flex: 1; background: rgba(0,0,0,0.2); border-radius: 10px; padding: 15px; border: 1px solid var(--border); display: flex; flex-direction: column; gap: 12px; }
.sa-panel.base { border-top: 4px solid var(--cyan); }
.sa-panel.scenario { border-top: 4px solid var(--accent); }

.sa-panel-head { font-size: 0.8rem; font-weight: 900; color: var(--muted); text-align: center; margin-bottom: 5px; }
.sa-arrow { display: flex; align-items: center; justify-content: center; color: var(--muted); font-size: 1.5rem; padding-top: 50px; }

/* --- ÂÖ•Âäõ„Éï„Ç£„Éº„É´„Éâ„ÅÆ„Éá„Ç∂„Ç§„É≥ --- */
.sa-input-group {
    display: flex; 
    flex-direction: column; /* Á∏¶‰∏¶„Å≥„ÇíÊòéÁ§∫ */
    background: rgba(0,0,0,0.2);
    border: 1px solid var(--border); 
    border-radius: 8px; 
    padding: 5px 10px;
    cursor: pointer; 
    transition: 0.2s;
    height: auto; /* È´ò„ÅïÂõ∫ÂÆö„ÅÆËß£Èô§ÔºàÈáçË¶ÅÔºâ */
}
.sa-input-group:active { background: rgba(255,255,255,0.1); }

.sa-input-row { display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 5px 10px; border-radius: 6px; min-height: 42px; cursor: pointer; }
.sa-input-row:active { background: rgba(255,255,255,0.1); }

.clean-input {
    background: transparent; border: none; color: var(--amber); 
    font-family: 'JetBrains Mono'; font-weight: 700; font-size: 1.3rem; 
    width: 100%; outline: none; text-align: right;
    pointer-events: auto; cursor: pointer;
}

.clean-select {
    background: transparent; border: none; color: white; 
    font-family: 'JetBrains Mono'; font-weight: 700; font-size: 1.3rem; width: 100%; outline: none; text-align: right; cursor: pointer; appearance: none;
}
.clean-select option { background: var(--bg); color: black; } /* option„ÅÆËâ≤„ÇíÈªí„Å´„Åó„Å¶Ë¶ñË™çÊÄßÁ¢∫‰øù */

/* --- „É©„Éô„É´„Éª„ÉÜ„Ç≠„Çπ„Éà --- */
.sa-label { font-size: 0.65rem; color: var(--muted); font-weight: 700; margin-bottom: 2px; }
.sa-row-label { font-size: 0.75rem; font-weight: 700; color: var(--muted); width: 60px; }
.sa-unit { font-size: 0.75rem; color: var(--muted); margin-left: 5px; width: 25px; text-align:right;}

.sa-info-disp { 
    text-align: right; font-size: 0.75rem; color: #64748b; 
    font-family: 'JetBrains Mono'; margin-top: 5px; line-height: 1.4;
}
.sa-temp-val { color: var(--muted); font-size: 0.7rem; margin-right: 5px; }
.sa-conv-val { color: var(--text); font-weight: 700; display: block; margin-top: 2px;}

/* --- ÁµêÊûúË°®Á§∫„Ç®„É™„Ç¢ --- */
.sa-result-area { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px; }
.sa-res-box { background: rgba(0,0,0,0.4); border-radius: 8px; padding: 15px; text-align: center; border: 1px solid var(--border); }
.sa-res-title { font-size: 0.75rem; color: var(--muted); font-weight: 700; margin-bottom: 5px; }
.sa-res-val { font-size: 2rem; font-family: 'JetBrains Mono'; font-weight: 900; color: white; }
.sa-res-sub { font-size: 0.9rem; font-family: 'JetBrains Mono'; color: var(--muted); margin-top: 5px; }

/* --- Âà§ÂÆö„ÉÜ„Ç≠„Çπ„Éà --- */
.sa-judge { text-align: center; font-weight: 900; font-size: 1.2rem; padding: 12px; border-radius: 8px; background: rgba(255,255,255,0.05); letter-spacing: 0.05em; margin-top: 10px;}

.res-good { color: var(--success); }
.res-bad { color: var(--danger); }
.res-neutral { color: var(--text); background: rgba(255,255,255,0.1); }
.res-cost { color: var(--amber); }

/* --- „É¢„Éº„ÉâÂàáÊõø„Éú„Çø„É≥ --- */
.mode-toggle-group { display: flex; gap: 2px; background: rgba(0,0,0,0.3); border-radius: 4px; padding: 2px; }
.mode-btn { 
    border: none; background: transparent; color: var(--muted); 
    font-size: 0.7rem; font-weight: 900; padding: 4px 8px; cursor: pointer; border-radius: 3px; pointer-events: auto;
}
.mode-btn.active { background: var(--accent); color: #000; }

/* =========================================
   PERSONAL LOG STYLES (FINAL REPAIR)
   ========================================= */

/* „É¨„Ç§„Ç¢„Ç¶„Éà: „Çπ„ÇØ„É≠„Éº„É´ÂØæÂøú */
.log-layout { 
    display: flex; flex-direction: column; gap: 12px; padding-bottom: 10px;
    flex: 1; overflow-y: auto; min-height: 0;
}

/* Info Area */
.log-info-row { 
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(255,255,255,0.03); padding: 10px 15px; border-radius: 12px; border: 1px solid var(--border);
    flex-shrink: 0;
}
.log-info-col { display: flex; flex-direction: column; gap: 4px; }
.log-info-text { font-family: 'JetBrains Mono'; font-weight: 700; color: white; font-size: 1rem; }
.log-label-mini { font-size: 0.65rem; color: var(--muted); font-weight: 700; }

.route-input {
    background: transparent; border: none; border-bottom: 1px solid var(--muted);
    color: var(--accent); font-family: 'JetBrains Mono'; font-weight: 700; font-size: 1rem;
    width: 50px; text-align: center; text-transform: uppercase; outline: none;
}

.log-section-title { 
    font-size: 0.75rem; color: var(--primary); font-weight: 900; 
    margin: 5px 0; letter-spacing: 0.05em; border-left: 3px solid var(--primary); padding-left: 8px;
    flex-shrink: 0;
}

/* Grids & Boxes */
.log-grid-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; flex-shrink: 0; }

.log-box { 
    background: rgba(0,0,0,0.2); border: 1px solid var(--border); border-radius: 12px; 
    padding: 10px; display: flex; flex-direction: column; align-items: center; gap: 5px;
    cursor: pointer; transition: 0.2s; position: relative;
}
.log-box:active { background: rgba(255,255,255,0.05); }
.log-label { font-size: 0.7rem; font-weight: 900; color: var(--muted); }
.log-input-lg { 
    background: transparent; border: none; width: 100%; text-align: center; 
    color: white; font-family: 'JetBrains Mono'; font-weight: 700; font-size: 1.8rem; outline: none; pointer-events: none;
}
.log-set-btn {
    background: #334155; border: none; color: white; border-radius: 6px; 
    font-size: 0.7rem; font-weight: 900; padding: 6px 12px; cursor: pointer; width: 100%; margin-top: auto;
}
.log-set-btn:active { background: var(--success); }

.log-result-bar { 
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); 
    border-radius: 12px; padding: 10px 20px; flex-shrink: 0;
}
.log-res-val { color: var(--success); font-family: 'JetBrains Mono'; font-size: 1.4rem; font-weight: 900; }

.assign-header { font-size: 0.7rem; font-weight: 900; color: var(--muted); text-align: center; margin-bottom: 4px; }
.log-assign-box {
    background: rgba(0,0,0,0.2); border: 1px solid var(--border); border-radius: 12px;
    padding: 10px; display: flex; flex-direction: column; gap: 8px;
}

/* Toggles */
.toggle-row { display: flex; background: #0f172a; border-radius: 8px; padding: 3px; border: 1px solid var(--border); }
.toggle-btn {
    flex: 1; background: transparent; border: none; color: var(--muted);
    padding: 8px 0; font-size: 0.8rem; font-weight: 900; border-radius: 6px; cursor: pointer; transition: 0.2s;
}
.toggle-btn.active { background: var(--primary); color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.3); }
.toggle-btn.active-day { background: var(--accent); color: #000; }
.toggle-btn.active-ngt { background: #6366f1; color: white; }

/* Inputs */
.input-styled {
    display: flex; flex-direction: column; background: rgba(0,0,0,0.2);
    border: 1px solid var(--border); border-radius: 12px; padding: 8px 12px;
    cursor: pointer; transition: 0.2s; height: auto;
}
.input-styled:active { background: rgba(255,255,255,0.05); }
.clean-input {
    background: transparent; border: none; color: var(--accent); 
    font-family: 'JetBrains Mono'; font-weight: 700; font-size: 1.2rem; width: 100%; outline: none; text-align: right; pointer-events: none;
}

.mini-btn {
    background: transparent; border: 1px solid var(--muted); color: var(--muted);
    border-radius: 4px; font-size: 0.6rem; font-weight: 900; padding: 2px 8px; cursor: pointer;
    transition: 0.2s;
}
.mini-btn:active { background: var(--primary); color: white; border-color: var(--primary); }

.log-memo-area {
    width: 100%; height: 50px; background: rgba(0,0,0,0.2); border: 1px solid var(--border);
    border-radius: 12px; color: white; padding: 10px; font-family: 'Inter'; resize: none; outline: none; font-size: 0.9rem; flex-shrink: 0;
}

.logbook-preview {
    background: #000; border: 1px solid #475569; border-radius: 12px;
    padding: 15px; margin-top: 5px; overflow-x: auto; flex-shrink: 0;
}
.preview-text {
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace; 
    font-size: 0.8rem; color: #e2e8f0; white-space: pre; line-height: 1.5;
}
.copy-btn-lg {
    background: var(--primary); border: none; color: white; font-weight: 900;
    padding: 12px; border-radius: 8px; cursor: pointer; width: 100%; margin-top: 10px;
    font-size: 1rem; display: flex; justify-content: center; align-items: center; gap: 8px;
}
.copy-btn-lg:active { background: #2563eb; }

/* Log Numpad Specifics */
.np-grid .np-btn {
    background: #334155; border: none; border-radius: 16px; height: 80px;
    color: white; font-size: 2rem; font-weight: 600; cursor: pointer; font-family: 'Inter';
    box-shadow: 0 4px 6px rgba(0,0,0,0.3); transition: transform 0.1s; padding: 0;
}
.np-grid .np-btn:active { transform: scale(0.95); background: #475569; }
.np-grid .np-btn.del { background: #7f1d1d; color: #fca5a5; font-size: 1.5rem; }
.np-grid .np-btn.cancel { background: #475569; font-size: 1rem; color: #cbd5e1; }
.np-grid .np-btn.confirm { background: #059669; font-size: 1.2rem; font-weight: 900; grid-column: span 1; }

/* --- v2_style.css „ÅÆÊú´Â∞æ„Å´ËøΩÂä† --- */

/* PUS„ÅåÈÅ∏Êäû„Åï„Çå„Åü„Å®„Åç„ÅØËµ§Ëâ≤„Å´„Åó„Å¶Âº∑Ë™ø */
#btn-role-pus.active {
    background: var(--danger) !important; /* Ëµ§Ëâ≤ (#ef4444) */
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.4); /* Ëµ§„ÅÑÂÖâÂΩ© */
    color: white;
}

/* =========================================
   COMING SOON STYLES
   ========================================= */

/* „Éú„Çø„É≥„Çí„Ç∞„É¨„Éº„Ç¢„Ç¶„Éà„Åó„Å¶„ÇØ„É™„ÉÉ„ÇØÁÑ°ÂäπÂåñ */
.ref-card-btn.coming-soon {
    filter: grayscale(100%);      /* ÂÆåÂÖ®„Å™„É¢„Éé„ÇØ„É≠ */
    opacity: 0.5;                 /* ÈÄèÊòéÂ∫¶„Çí‰∏ã„Åí„Å¶ÁÑ°ÂäπÊÑü„ÇíÂá∫„Åô */
    pointer-events: none;         /* „ÇØ„É™„ÉÉ„ÇØÂà§ÂÆö„ÇíÊ∂à„Åô */
    position: relative;           /* „É©„Éô„É´ÈÖçÁΩÆ„ÅÆÂü∫Ê∫ñÁÇπ */
    overflow: hidden;             /* „É©„Éô„É´„ÅÆ„ÅØ„ÅøÂá∫„ÅóÈò≤Ê≠¢ */
    background: #1e293b;          /* ËÉåÊôØËâ≤„ÇíÂõ∫ÂÆö */
    border: 1px dashed #475569;   /* Êû†Á∑ö„Çí„ÉÄ„ÉÉ„Ç∑„É•„Å´„Åó„Å¶Â∑•‰∫ã‰∏≠ÊÑü„ÇíÂá∫„Åô */
}

/* "COMING SOON" „É©„Éô„É´„ÅÆË°®Á§∫ */
.ref-card-btn.coming-soon::after {
    content: "COMING SOON";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-15deg); /* Êñú„ÇÅ„Å´ÈÖçÁΩÆ */
    
    background: rgba(0, 0, 0, 0.8);
    color: #fbbf24;  /* „Ç¢„É≥„Éê„ÉºËâ≤ */
    font-size: 0.9rem;
    font-weight: 900;
    padding: 5px 10px;
    border: 2px solid #fbbf24;
    border-radius: 6px;
    white-space: nowrap;
    z-index: 10;
    box-shadow: 0 4px 10px rgba(0,0,0,0.5);
}

/* =========================================
   HISTORY CONSOLE STYLES
   ========================================= */

/* „É™„Çπ„ÉàÂÖ®‰Ωì„ÅÆ„Ç≥„É≥„ÉÜ„ÉäÔºàÈªíËÉåÊôØ„ÉªÊ®™„Çπ„ÇØ„É≠„Éº„É´Ôºâ */
#hist-list-view {
    background: #000;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 2px;
    overflow-x: auto !important; /* Ê®™„Çπ„ÇØ„É≠„Éº„É´„ÇíÂº∑Âà∂ */
    overflow-y: auto;
    font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
    border: 1px solid #334155;
    border-radius: 8px;
}

/* „Éò„ÉÉ„ÉÄ„ÉºË°å */
.hist-header-row {
    color: var(--muted);
    font-size: 0.8rem;
    white-space: pre;
    border-bottom: 1px solid #334155;
    padding-bottom: 8px;
    margin-bottom: 8px;
    width: max-content; /* ÊñáÂ≠óÊï∞„Å´Âêà„Çè„Åõ„Å¶ÂπÖ„ÇíÁ¢∫‰øù */
    opacity: 0.7;
}

/* „Éá„Éº„ÇøË°å */
.hist-console-row {
    display: flex;
    align-items: center;
    gap: 20px; /* „ÉÜ„Ç≠„Çπ„Éà„Å®„Éú„Çø„É≥„ÅÆÈñìÈöî */
    padding: 6px 0;
    border-bottom: 1px solid rgba(255,255,255,0.1);
    width: max-content;
    transition: 0.2s;
}
.hist-console-row:hover {
    background: rgba(255,255,255,0.08);
}

/* „ÉÜ„Ç≠„Çπ„ÉàÈÉ®ÂàÜÔºà„Éó„É¨„Éì„É•„Éº„Å®Âêå„ÅòË¶ã„ÅüÁõÆÔºâ */
.hist-line-text {
    color: #e2e8f0;
    font-size: 0.8rem;
    white-space: pre;
    font-weight: 700;
}

/* „Éú„Çø„É≥„Ç®„É™„Ç¢ÔºàÂ∏∏ÊôÇË°®Á§∫„Å†„ÅåÊéß„Åà„ÇÅ„Å´Ôºâ */
.hist-line-actions {
    display: flex;
    gap: 6px;
    opacity: 0.8;
}
.hist-console-row:hover .hist-line-actions {
    opacity: 1;
}

/* „Éü„Éã„Éú„Çø„É≥ */
.h-mini-btn {
    border: none;
    color: white;
    font-family: 'Inter', sans-serif; /* „Éú„Çø„É≥„Å†„Åë„ÅØË™≠„Åø„ÇÑ„Åô„ÅÑ„Éï„Ç©„É≥„Éà */
    font-size: 0.65rem;
    font-weight: 900;
    padding: 4px 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: 0.2s;
}
.h-mini-btn.edit { background: #334155; color: var(--primary); border: 1px solid var(--primary); }
.h-mini-btn.del { background: #334155; color: var(--danger); border: 1px solid var(--danger); }

.h-mini-btn.edit:hover { background: var(--primary); color: white; }
.h-mini-btn.del:hover { background: var(--danger); color: white; }

/* =========================================
   HISTORY EDITOR FIX
   ========================================= */

/* Á∑®ÈõÜÁîªÈù¢„ÅÆÂÖ•ÂäõÊ¨Ñ„Å†„Åë„ÄÅ„ÇØ„É™„ÉÉ„ÇØ„Å®ÂÖ•Âäõ„ÇíÊúâÂäπÂåñ„Åô„Çã */
#hist-editor-view .clean-input {
    pointer-events: auto !important; /* „Åì„Çå„ÅßÂÖ•ÂäõÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô */
    border-bottom: 1px solid #475569; /* ‰∏ãÁ∑ö„ÇíË°®Á§∫„Åó„Å¶ÂÖ•ÂäõÊ¨Ñ„Çâ„Åó„Åè„Åô„Çã */
    border-radius: 4px;
    padding: 0 8px;
    text-align: left; /* Â∑¶ÂØÑ„Åõ„Å´„Åó„Å¶Á∑®ÈõÜ„Åó„ÇÑ„Åô„Åè„Åô„Çã */
    background: rgba(0, 0, 0, 0.3);
}

/* ÂÖ•Âäõ‰∏≠„ÅÆ„Éï„Ç©„Éº„Ç´„Çπ„Çπ„Çø„Ç§„É´ */
#hist-editor-view .clean-input:focus {
    border-color: var(--primary);
    background: rgba(59, 130, 246, 0.1);
}

/* EXPORT MODAL STYLES */
input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1); /* „Ç´„É¨„É≥„ÉÄ„Éº„Ç¢„Ç§„Ç≥„É≥„ÇíÁôΩ„Åè„Åô„Çã */
    cursor: pointer;
}
#modal-export .clean-input {
    pointer-events: auto; /* ÂÖ•Âäõ„ÇíË®±ÂèØ */
    background: rgba(0,0,0,0.3);
    border-radius: 6px;
    padding: 5px 10px;
}

/* =========================================
   CLOSE LEG MODAL - SECONDARY BUTTONS (BACK / CANCEL)
   ========================================= */

.btn-cancel {
    width: 100%;
    /* ËÉåÊôØÔºö„Ç´„Éº„ÉâËâ≤„Çà„ÇäÂ∞ë„ÅóÊòé„Çã„ÅÑ„Ç∞„É¨„Éº */
    background: #1e293b; 
    /* Êû†Á∑öÔºö„Çπ„É¨„Éº„Éà„Ç∞„É¨„Éº„ÅßÂ¢ÉÁïå„ÇíÊòéÁ¢∫„Å´ */
    border: 1px solid #475569; 
    /* ÊñáÂ≠óËâ≤ÔºöËêΩ„Å°ÁùÄ„ÅÑ„Åü„Ç∞„É¨„Éº„Éõ„ÉØ„Ç§„Éà */
    color: #94a3b8;
    
    font-family: 'Inter', sans-serif;
    font-weight: 900;
    font-size: 0.9rem;
    padding: 14px 0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    
    /* „É¨„Ç§„Ç¢„Ç¶„ÉàË™øÊï¥ */
    margin-top: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* „Éõ„Éê„Éº„Éª„Çø„ÉÉ„ÉóÊôÇ„ÅÆ„Ç¢„ÇØ„Ç∑„Éß„É≥ */
.btn-cancel:active {
    background: #334155;       /* Êäº„Åó„ÅüÊôÇ„Å´Â∞ë„ÅóÊòé„Çã„Åè */
    color: #ffffff;            /* ÊñáÂ≠ó„ÇíÁôΩ„Åè */
    border-color: #64748b;     /* Êû†Á∑ö„ÇÇÊòé„Çã„Åè */
    transform: scale(0.98);    /* ËªΩ„ÅèÊ≤à„ÅøËæº„ÇÄ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3) inset;
}

/* BACK„Éú„Çø„É≥Ôºà„ÉÅ„Çß„ÉÉ„ÇØ„É™„Çπ„ÉàÂÜÖÔºâ„Å†„ÅëÂ∞ë„ÅóÈöôÈñì„ÇíÁ©∫„Åë„Åü„ÅÑÂ†¥Âêà */
#cl-step-list .btn-cancel {
    margin-top: 15px;
    border-top: 1px solid #334155; /* Âå∫Âàá„ÇäÁ∑öÁöÑ„Å™ÊºîÂá∫„ÇíËøΩÂä† */
}

/* =========================================
   WIND CALCULATOR v5.10 ISOLATED DESIGN
   (‰ªñ„ÅÆ„É¢„Éº„ÉÄ„É´„Å´ÂΩ±Èüø„Åó„Å™„ÅÑÂ∞ÇÁî®„Çπ„Çø„Ç§„É´)
   ========================================= */

/* Â∞ÇÁî®„ÅÆ„Ç≥„É≥„ÉÜ„ÉäÂÆöÁæ© („Åì„Çå„Å™„Çâ‰ªñ„ÅÆ„É¢„Éº„ÉÄ„É´„ÅØÂ¥©„Çå„Åæ„Åõ„Çì) */
.wind-v5-card {
    background: #1e293b; /* v5.10„ÅÆ --card-bg */
    border: 1px solid #334155;
    border-radius: 20px;
    padding: 0;
    width: 760px;
    max-width: 98vw;
    height: 94vh;
    max-height: 700px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);
    display: flex;
    flex-direction: row; /* ‚òÖ„Åì„Åì„Å†„ÅëÊ®™‰∏¶„Å≥„Å´„Åô„Çã */
    overflow: hidden;
    margin: auto;
    position: relative;
    font-family: 'Inter', sans-serif;
    color: #f8fafc;
}

/* Â∑¶„Éë„Éç„É´ */
.wind-v5-left {
    width: 380px;
    flex-shrink: 0;
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    border-right: 1px solid #334155;
    background: #1e293b;
    z-index: 2;
    overflow-y: auto;
}
.wind-v5-left::-webkit-scrollbar { width: 0; }

/* Âè≥„Éë„Éç„É´ */
.wind-v5-right {
    flex-grow: 1;
    padding: 0;
    background: #0b1120;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    border-left: 1px solid #334155;
}

/* „Éì„Ç∏„É•„Ç¢„É´ÂÜÜÂΩ¢„Ç®„É™„Ç¢ */
.wind-v5-visual {
    display: flex; justify-content: center; align-items: center;
    background: #0b1120; border-radius: 50%; width: 120px; height: 120px;
    margin: 0 auto 5px auto; border: 2px solid #334155;
    position: relative; box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
    flex-shrink: 0;
}

/* ÂÖ•Âäõ„Çª„ÇØ„Ç∑„Éß„É≥ */
.wind-v5-section {
    background: rgba(255,255,255,0.02);
    border-radius: 12px;
    border: 1px solid #334155;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.wind-v5-sec-header {
    display: flex; align-items: center; gap: 8px;
    font-size: 0.65rem; font-weight: 900;
    color: #94a3b8; letter-spacing: 0.05em;
}
.wind-v5-row { display: flex; gap: 10px; }
.wind-v5-col .card-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 18px;
    width: 100%;
}

/* „É©„Éô„É´„Å®ÂÖ•ÂäõÊ¨Ñ */
.wind-v5-label { font-size: 0.6rem; color: #94a3b8; font-weight: 700; margin-left: 4px; margin-bottom: 2px; }

.wind-v5-input {
    background: #131c33;
    border: 1px solid #334155;
    color: white;
    border-radius: 8px;
    padding: 8px;
    font-weight: 700;
    font-size: 1.1rem;
    width: 100%;
    outline: none;
    text-align: center;
    box-sizing: border-box;
    transition: 0.2s;
    height: 40px;
    font-family: 'Inter', sans-serif;
}
.wind-v5-input:focus {
    border-color: #3b82f6;
    background: #1a243d;
}
#calc-hdg { color: #3b82f6; font-family: 'JetBrains Mono', monospace; }


.wind-v5-step-btn {
    background: #27354f;
    border: 1px solid #334155;
    color: white;
    width: 36px;
    border-radius: 8px;
    font-size: 0.7rem;
    font-weight: 900;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
}
.wind-v5-step-btn:active { transform: translateY(1px); }

/* Âçò‰ΩçÂàáÊõø */
.wind-v5-switch { display: flex; background: #1e293b; border: 1px solid #334155; border-radius: 4px; overflow: hidden; height: 18px; margin-left: auto; }
.wind-v5-unit-btn { padding: 0 6px; font-size: 0.55rem; font-weight: 900; color: #64748b; cursor: pointer; display: flex; align-items: center; }
.wind-v5-unit-btn.active { background: #3b82f6; color: white; }

/* ÁµêÊûúË°®Á§∫„Ç®„É™„Ç¢ */
.wind-v5-res-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 5px; }
.wind-v5-res-card {
    background: #131c33; border: 1px solid #334155;
    border-radius: 12px; padding: 10px;
    display: flex; flex-direction: column; align-items: center;
}
.wind-v5-res-val { font-size: 1.4rem; font-weight: 900; color: white; line-height: 1; }

/* „Çπ„ÉÜ„Éº„Çø„Çπ„Éê„Éº */
.wind-v5-status {
    text-align: center; font-size: 0.9rem; font-weight: 900;
    padding: 10px; border-radius: 10px; margin-bottom: 0;
    letter-spacing: 0.05em; border: 1px solid #334155;
    color: #94a3b8; background: #131c33; opacity: 0.5;
}
.wind-v5-status.safe { background: rgba(16, 185, 129, 0.15); color: #10b981; border-color: #10b981; opacity: 1; }
.wind-v5-status.danger { background: rgba(239, 68, 68, 0.2); color: #ef4444; border-color: #ef4444; opacity: 1; animation: pulse 2s infinite; }

/* „É™„Éü„ÉÉ„ÉàË®≠ÂÆö */
.wind-v5-limit-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 6px; }
.wind-v5-limit-box {
    background: rgba(255,255,255,0.03); border: 1px solid #334155;
    border-radius: 8px; padding: 6px;
    display: flex; flex-direction: column; align-items: center;
}
.wind-v5-limit-inp {
    background: transparent; border: none; color: #f59e0b;
    font-weight: 900; width: 100%; text-align: center; font-size: 1rem; outline: none; padding: 0;
}

/* „ÉÅ„É£„Éº„Éà„Ç®„É™„Ç¢ÔºàÂè≥ÂÅ¥Ôºâ */
.wind-v5-chart-top {
    padding: 15px 20px 8px 20px;
    border-bottom: 1px solid #334155;
    background: #0b1120; z-index: 10;
}
.wind-v5-chart-title { font-size: 0.8rem; font-weight: 900; color: #3b82f6; display: block; margin-bottom: 8px; }
.wind-v5-row-head {
    display: grid; grid-template-columns: 0.7fr 1fr 1fr 1fr;
    background: rgba(59, 130, 246, 0.1); color: #3b82f6;
    font-size: 0.6rem; font-weight: 900; border-radius: 6px; padding: 6px; text-align: center;
}
.wind-v5-chart-scroll {
    flex-grow: 1; overflow-y: auto; padding: 8px 20px;
    display: flex; flex-direction: column; gap: 4px;
}
.wind-v5-chart-scroll::-webkit-scrollbar { width: 6px; }

/* „ÉÅ„É£„Éº„ÉàË°å */
.c-row { display: grid; grid-template-columns: 0.7fr 1fr 1fr 1fr; padding: 6px; border-radius: 6px; font-size: 0.75rem; font-weight: 700; align-items: center; text-align: center; border-bottom: 1px solid rgba(255,255,255,0.03); }
.c-row:hover { background: rgba(255,255,255,0.03); }
.cell-mag { font-family: monospace; color: #cbd5e1; font-size: 0.8rem; }
.cell-val { color: #64748b; }
.col-safe { color: #10b981; } .col-warn { color: #f59e0b; } .col-danger { color: #ef4444; }
.range-highlight { background: rgba(59, 130, 246, 0.15) !important; border-left: 3px solid #3b82f6; }
.current-row { background: rgba(59, 130, 246, 0.4) !important; border-left: 3px solid white; box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); }
.limit-over-text { color: #ef4444 !important; font-weight: 900; font-size: 1.1em; }

/* „É¢„Éê„Ç§„É´ÂØæÂøúÔºà„Åì„ÅÆ„É¢„Éº„ÉÄ„É´„Å†„ÅëÁ∏¶‰∏¶„Å≥„Å´„Åô„ÇãÔºâ */
@media (max-width: 768px) {
    .wind-v5-card { flex-direction: column; width: 100vw; height: 100vh; border-radius: 0; }
    .wind-v5-left { width: 100%; border-right: none; border-bottom: 1px solid #334155; flex: 1.2; }
    .wind-v5-right { flex: 0.8; }
}

/* =========================================
   WIND CALC UI REPAIR KIT (ABSOLUTE FIX)
   ========================================= */

/* 1. „Çπ„ÉÜ„ÉÉ„Éë„ÉºÔºàÔºã‚àí„Éú„Çø„É≥„Å®ÂÖ•ÂäõÊ¨Ñ„ÅÆË¶™Êû†Ôºâ */
.wind-v5-stepper {
    display: flex !important;
    align-items: stretch !important; /* È´ò„Åï„ÇíÂº∑Âà∂ÁöÑ„Å´Âêà„Çè„Åõ„Çã */
    width: 100% !important;
    height: 40px !important;         /* È´ò„Åï„ÇíÂõ∫ÂÆö */
    gap: 4px !important;             /* „Éú„Çø„É≥„Å®ÂÖ•ÂäõÊ¨Ñ„ÅÆÈöôÈñì */
}

/* 2. „Çπ„ÉÜ„ÉÉ„Éë„ÉºÂÜÖ„ÅÆ„Éú„Çø„É≥ */
.wind-v5-step-btn {
    width: 44px !important;          /* ÂπÖ„ÇíÂ∫É„ÇÅ„Å´Âõ∫ÂÆö */
    flex-shrink: 0 !important;       /* Á∏ÆÂ∞è„ÇíÁ¶ÅÊ≠¢ÔºàÊΩ∞„ÇåÈò≤Ê≠¢Ôºâ */
    flex-grow: 0 !important;
    margin: 0 !important;
    height: auto !important;         /* Ë¶™„ÅÆÈ´ò„Åï„Å´Âêà„Çè„Åõ„Çã */
}

/* 3. „Çπ„ÉÜ„ÉÉ„Éë„ÉºÂÜÖ„ÅÆÂÖ•ÂäõÊ¨Ñ */
.wind-v5-stepper .wind-v5-input {
    width: 0 !important;             /* ÂπÖ„ÅÆË®àÁÆó„É™„Çª„ÉÉ„Éà */
    flex-grow: 1 !important;         /* ÊÆã„Çä„ÅÆ„Çπ„Éö„Éº„Çπ„ÇíÂüã„ÇÅ„Çã */
    min-width: 0 !important;         /* Flexbox„ÅÆ„ÅØ„ÅøÂá∫„ÅóÈò≤Ê≠¢ */
    height: auto !important;         /* Ë¶™„ÅÆÈ´ò„Åï„Å´Âêà„Çè„Åõ„Çã */
    margin: 0 !important;
}

/* 4. „Éâ„É≠„ÉÉ„Éó„ÉÄ„Ç¶„É≥ÔºàSelectÔºâ„ÅÆË¶ã„ÅüÁõÆ‰øÆÊ≠£ */
select.wind-v5-input {
    width: 100% !important;
    height: 40px !important;
    /* „Éñ„É©„Ç¶„Ç∂Ê®ôÊ∫ñ„ÅÆË¶ã„ÅüÁõÆ„ÇíÊ∂à„Åô */
    appearance: none !important;
    -webkit-appearance: none !important;
    /* ÊñáÂ≠ó‰ΩçÁΩÆË™øÊï¥ */
    text-align: center !important;
    text-align-last: center !important;
    /* Áü¢Âç∞„Ç¢„Ç§„Ç≥„É≥„ÇíËá™Ââç„ÅßË°®Á§∫ÔºàÈùíËâ≤Ôºâ */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e") !important;
    background-repeat: no-repeat !important;
    background-position: right 10px center !important;
    background-size: 16px !important;
    padding-right: 30px !important; /* Áü¢Âç∞„Å®ÊñáÂ≠ó„ÅåË¢´„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´ */
}

/* 5. „Éò„ÉÉ„ÉÄ„Éº„É©„Éô„É´„ÅÆ‰ΩçÁΩÆË™øÊï¥ */
.card-head {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    height: 20px !important;
    margin-bottom: 4px !important;
}

/* =========================================
   WIND CALC STATUS BOX FIX
   ========================================= */

/* „Çπ„ÉÜ„Éº„Çø„Çπ„Éú„ÉÉ„ÇØ„Çπ„ÅÆÂü∫Êú¨„Çπ„Çø„Ç§„É´ */
.wind-v5-status {
    display: block !important;
    width: 100% !important;
    text-align: center !important;
    font-size: 0.9rem !important;
    font-weight: 900 !important;
    padding: 12px !important;
    border-radius: 10px !important;
    margin-top: 10px !important;
    margin-bottom: 10px !important;
    letter-spacing: 0.05em !important;
    border: 1px solid #334155 !important;
    background: #131c33 !important;
    color: #94a3b8 !important;
    opacity: 1 !important;
    transition: all 0.3s ease !important;
}

/* ÂÆâÂÖ® (WITHIN LIMIT) */
.wind-v5-status.safe {
    background: rgba(16, 185, 129, 0.15) !important;
    color: #10b981 !important;
    border-color: #10b981 !important;
}

/* Âç±Èô∫ (LIMIT OVER) */
.wind-v5-status.danger {
    background: rgba(239, 68, 68, 0.2) !important;
    color: #ef4444 !important;
    border-color: #ef4444 !important;
    animation: wind-pulse 2s infinite !important;
}

/* ÁÇπÊªÖ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÆöÁæ© */
@keyframes wind-pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

/* =========================================
   ADDITION for QUICK REFERENCE BUTTON
   ========================================= */

/* Reference Button (Emerald Style) */
.action-ref {
    border-color: #10b981; /* Emerald Green */
}

.action-ref:not(.action-disabled):hover {
    background: rgba(16, 185, 129, 0.1);
    border-color: #34d399;
    box-shadow: 0 0 20px rgba(16, 185, 129, 0.2);
}

.action-ref .action-title {
    color: #34d399;
}

/* =========================================
   ‚ñº‚ñº‚ñº ADDITION: QUICK REFERENCE APP ‚ñº‚ñº‚ñº
   (Êó¢Â≠ò„ÅÆ„Éï„Ç°„Ç§„É´„ÅÆÊú´Â∞æ„Å´ËøΩË®ò„Åó„Å¶„Åè„Å†„Åï„ÅÑ)
   ========================================= */

/* --- LAYOUT CONTAINER --- */
.ref-app-container {
    max-width: 900px;
    margin: 0 auto;
    padding-bottom: 100px; /* FABÁî®„ÅÆ‰ΩôÁôΩ */
    min-height: 100vh;
    background: var(--bg);
}

/* --- STICKY HEADER --- */
.ref-header-sticky {
    position: sticky; top: 0; z-index: 100;
    background: rgba(2, 6, 23, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--border);
    padding: 15px;
    display: flex; flex-direction: column; gap: 12px;
}
.ref-top-row { display: flex; justify-content: space-between; align-items: center; }
.ref-app-title { font-family: 'JetBrains Mono'; font-weight: 900; color: var(--text); font-size: 1rem; }

/* HEADER BUTTONS */
.ref-btn-icon {
    background: transparent; border: 1px solid var(--border); color: var(--muted);
    width: 36px; height: 36px; border-radius: 8px; cursor: pointer;
    display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
    transition: 0.2s;
}
.ref-btn-icon:active, .ref-btn-icon.active {
    background: var(--primary); color: white; border-color: var(--primary);
}

/* --- SEARCH BOX --- */
.ref-search-box {
    display: flex; align-items: center; background: #1e293b;
    border: 1px solid var(--border); border-radius: 10px;
    padding: 0 12px; height: 44px; transition: 0.2s;
}
.ref-search-box:focus-within { border-color: var(--primary); box-shadow: 0 0 15px rgba(59, 130, 246, 0.2); }
.ref-search-input {
    flex: 1; background: transparent; border: none; color: white;
    font-family: 'Inter'; font-weight: 600; font-size: 1rem; outline: none; padding: 0 10px;
}
.search-icon { opacity: 0.5; }
.search-clear {
    background: transparent; border: none; color: var(--muted);
    font-size: 1.2rem; font-weight: 900; cursor: pointer; padding: 5px;
}

/* --- CATEGORY TABS --- */
.ref-category-tabs { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px; }
.ref-category-tabs::-webkit-scrollbar { display: none; }

.ref-cat-btn {
    background: transparent; border: 1px solid var(--border); color: var(--muted);
    padding: 6px 14px; border-radius: 20px; font-size: 0.75rem; font-weight: 900;
    white-space: nowrap; cursor: pointer; transition: 0.2s;
}
.ref-cat-btn.active { background: white; color: black; border-color: white; }
/* „Ç´„ÉÜ„Ç¥„É™Âà•„Ç¢„ÇØ„ÉÜ„Ç£„ÉñËâ≤ */
.ref-cat-btn.cat-limit.active { background: #ef4444; color: white; border-color: #ef4444; }
.ref-cat-btn.cat-memory.active { background: #f59e0b; color: black; border-color: #f59e0b; }
.ref-cat-btn.cat-norm.active { background: #3b82f6; color: white; border-color: #3b82f6; }
.ref-cat-btn.cat-perf.active { background: #10b981; color: white; border-color: #10b981; }

/* --- CONTENT GRID --- */
.ref-grid-container {
    padding: 15px; display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 15px;
}

/* --- CARD STYLE --- */
.ref-card {
    background: #0f172a; border: 1px solid var(--border); border-radius: 12px;
    overflow: hidden; cursor: pointer; position: relative;
    display: flex; flex-direction: column; transition: 0.2s;
}
.ref-card:active { transform: scale(0.98); }

/* Card Stripe Colors */
.ref-card.type-limit { border-left: 5px solid #ef4444; }
.ref-card.type-memory { border-left: 5px solid #f59e0b; background: rgba(245, 158, 11, 0.05); }
.ref-card.type-normal { border-left: 5px solid #3b82f6; }
.ref-card.type-perf { border-left: 5px solid #10b981; }

.ref-card-header { padding: 15px; display: flex; justify-content: space-between; align-items: center; }
.ref-title-group { display: flex; flex-direction: column; }
.ref-card-tag { font-size: 0.6rem; font-weight: 900; opacity: 0.7; letter-spacing: 0.05em; margin-bottom: 4px; }
.ref-card-title { font-size: 1rem; font-weight: 900; color: white; line-height: 1.25; }

.ref-expand-icon { font-size: 1.2rem; color: var(--muted); transition: 0.3s; }
.ref-card.expanded .ref-expand-icon { transform: rotate(180deg); }

/* Content Body (Accordion) */
.ref-card-body {
    max-height: 0; overflow: hidden; background: rgba(0,0,0,0.3);
    transition: max-height 0.3s ease; border-top: 1px solid transparent;
}
.ref-card.expanded .ref-card-body { border-top-color: rgba(255,255,255,0.1); }

.ref-content-inner {
    padding: 15px; font-size: 0.95rem; color: #e2e8f0; line-height: 1.6;
    white-space: pre-wrap; font-family: 'JetBrains Mono', monospace;
}

/* Text Highlights */
.hlt-red { color: #ef4444; font-weight: bold; }
.hlt-amber { color: #f59e0b; font-weight: bold; }
.hlt-cyan { color: #06b6d4; font-weight: bold; }

/* --- EDIT MODE UI --- */
.ref-del-btn {
    position: absolute; top: 10px; right: 10px; z-index: 10;
    background: #ef4444; color: white; border: none; width: 30px; height: 30px;
    border-radius: 50%; font-weight: bold; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}

.ref-fab-add {
    position: fixed; bottom: 30px; right: 30px;
    background: var(--primary); color: white; width: 60px; height: 60px;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    font-size: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.5); z-index: 200;
    cursor: pointer; border: none; transition: 0.2s;
}
.ref-fab-add:active { transform: scale(0.9); }

.ref-fab-export {
    position: fixed; bottom: 100px; right: 30px;
    background: #10b981; color: white; width: 50px; height: 50px;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
    font-size: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.5); z-index: 200;
    cursor: pointer; border: none; transition: 0.2s;
}
.ref-fab-export:active { transform: scale(0.9); }

/* --- MODALS (Add/Export) --- */
.ref-modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 3000;
    display: none; align-items: center; justify-content: center;
}
.ref-modal-overlay.active { display: flex; }

.ref-modal-card {
    background: #1e293b; border: 1px solid var(--border); border-radius: 12px;
    width: 90%; max-width: 600px; padding: 20px;
    display: flex; flex-direction: column; gap: 15px;
    max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

.ref-input, .ref-select, .ref-textarea {
    background: #0f172a; border: 1px solid var(--border); color: white;
    padding: 12px; border-radius: 8px; font-family: inherit; width: 100%;
    font-size: 1rem; outline: none;
}
.ref-textarea { height: 150px; font-family: 'JetBrains Mono'; font-size: 0.9rem; line-height: 1.5; }

.ref-modal-btns { display: flex; gap: 10px; justify-content: flex-end; margin-top: 10px; }
.btn-save { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }
.btn-cancel { background: transparent; color: var(--muted); border: 1px solid var(--border); padding: 10px 20px; border-radius: 8px; cursor: pointer; }

.ref-footer-note {
    text-align: center; color: var(--muted); font-size: 0.6rem; 
    padding: 20px; opacity: 0.5; margin-top: auto;
}

/* =========================================
   ‚ñº‚ñº‚ñº iPad LANDSCAPE OPTIMIZATION ‚ñº‚ñº‚ñº
   (ÂπÖ768px‰ª•‰∏ä„ÅÆ„Çø„Éñ„É¨„ÉÉ„Éà„ÉªPCÁî®)
   ========================================= */
@media (min-width: 768px) {
    /* Reference App Header: Ê®™‰∏ÄÂàóÈÖçÁΩÆ */
    .ref-header-sticky {
        flex-direction: row; align-items: center; justify-content: space-between;
        padding: 15px 25px; gap: 20px;
    }
    .ref-top-row { flex: 0 0 auto; gap: 20px; }
    
    /* Ê§úÁ¥¢„Éê„Éº„ÇíÂ∫É„Åè */
    .ref-search-box { flex: 1; max-width: 450px; height: 48px; }
    .ref-search-input { font-size: 1.1rem; }
    
    /* „Ç´„ÉÜ„Ç¥„É™„Çø„Éñ */
    .ref-category-tabs { flex: 0 0 auto; padding-bottom: 0; gap: 10px; }
    .ref-cat-btn { padding: 8px 16px; font-size: 0.85rem; }

    /* Grid Layout: 3Âàó„Äú */
    .ref-grid-container {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 20px; padding: 20px 25px;
    }
    .ref-card-title { font-size: 1.1rem; }
}

/* v2_style.css „ÅÆÊú´Â∞æ„Å´ËøΩÂä† */

/* Á∑®ÈõÜ„Éú„Çø„É≥ (Edit ModeÁî®) */
.ref-edit-btn {
    position: absolute; top: 10px; right: 50px; /* ÂâäÈô§„Éú„Çø„É≥„ÅÆÂ∑¶Èö£ */
    z-index: 10;
    background: #3b82f6; color: white; border: none; width: 30px; height: 30px;
    border-radius: 50%; font-weight: bold; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    font-size: 0.9rem;
}
.ref-edit-btn:active { transform: scale(0.9); }

/* Êñ∞„Åó„ÅÑ„Éú„Çø„É≥Ëâ≤: Cyan (VFRÁî®) */
.action-cyan { border-color: #06b6d4; }
.action-cyan:not(.action-disabled):hover {
    background: rgba(6, 182, 212, 0.1);
    box-shadow: 0 0 20px rgba(6, 182, 212, 0.2);
}
.action-cyan .action-title { color: #22d3ee; }

/* Êñ∞„Åó„ÅÑ„Éú„Çø„É≥Ëâ≤: Pink/Magenta (PAPIÁî®) */
.action-pink { border-color: #ec4899; }
.action-pink:not(.action-disabled):hover {
    background: rgba(236, 72, 153, 0.1);
    box-shadow: 0 0 20px rgba(236, 72, 153, 0.2);
}
.action-pink .action-title { color: #f472b6; }

/* =========================================
   ADDITION: DESCENT PLANNER (Orange Style)
   ========================================= */

/* Âü∫Êú¨„Ç´„É©„ÉºÔºàÊû†Á∑öÔºâ */
.action-orange {
    border-color: #f97316; /* Orange */
}

/* „Éõ„Éê„ÉºÊôÇ„ÅÆÁô∫ÂÖâ„Ç®„Éï„Çß„ÇØ„Éà */
.action-orange:not(.action-disabled):hover {
    background: rgba(249, 115, 22, 0.1);
    border-color: #fb923c;
    box-shadow: 0 0 20px rgba(249, 115, 22, 0.2);
}

/* „Çø„Ç§„Éà„É´ÊñáÂ≠ó„ÅÆËâ≤ */
.action-orange .action-title {
    color: #f97316;
}

/* ‚òÖ„Ç¢„Ç§„Ç≥„É≥„ÅÆÁô∫ÂÖâÔºàÁµµÊñáÂ≠ó„ÅÆÂë®„Çä„Å´„Ç™„É¨„É≥„Ç∏„ÅÆÂÖâ„ÇíËøΩÂä†Ôºâ */
.action-orange .action-icon {
    text-shadow: 0 0 15px rgba(249, 115, 22, 0.6);
}

/* =========================================
   ADDITION: J-SA MAP (Tech Blue Style)
   ========================================= */

.action-map {
    border-color: #00e5ff; /* Tech Cyan */
}

.action-map:not(.action-disabled):hover {
    background: rgba(0, 229, 255, 0.1);
    box-shadow: 0 0 20px rgba(0, 229, 255, 0.2);
    border-color: #00e5ff;
}

.action-map .action-title {
    color: #00e5ff;
}

.action-map .action-icon {
    text-shadow: 0 0 15px rgba(0, 229, 255, 0.6);
}

/* =========================================
   NEW COLOR: LIME (MINIMUM CIRCLE)
   ========================================= */

.action-lime {
    border-color: #84cc16; /* Lime Green */
}

.action-lime:not(.action-disabled):hover {
    background: rgba(132, 204, 22, 0.1);
    border-color: #a3e635;
    box-shadow: 0 0 20px rgba(132, 204, 22, 0.2);
}

.action-lime .action-title {
    color: #a3e635; /* ÊñáÂ≠ó„ÅØÊòé„Çã„ÅÑ„É©„Ç§„É†Ëâ≤ */
}

.action-lime .action-icon {
    text-shadow: 0 0 15px rgba(132, 204, 22, 0.6);
}